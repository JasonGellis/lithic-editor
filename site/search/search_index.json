{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Lithic Editor and Annotator","text":"Lithic Editor and Annotator <p>Advanced image processing tool for archaeological lithic analysis with ripple removal, cortex preservation, neural network upscaling, and image annotation</p> <p>Key Features</p> <ul> <li>Intelligent Ripple Removal - Advanced algorithms distinguish between structural elements and scar ripples</li> <li>Precise Annotations - Add directional arrows to indicate striking patterns</li> <li>Enhanced Image Quality - Neural network upscaling and DPI enhancement for detailed analysis and visualization</li> <li>Easy to Use - Intuitive GUI and command-line interface</li> <li> Python API - Programmatic access for batch processing and integration with analysis workflows</li> </ul>"},{"location":"#what-is-lithic-editor","title":"What is Lithic Editor?","text":"<p>Lithic Editor and Annotator is a comprehensive image processing tool designed for preparing archaeological lithic illustrations. It combines advanced computer vision techniques with domain-specific knowledge to edit and enhance technical drawings of stone tool artifacts. The software addresses multiple challenges in lithic illustration preparation and enhancement:</p> <ul> <li> <p>Automated Ripple Line Removal: Uses sophisticated graph-based algorithms to identify and remove hatching/ripple lines while   preserving essential structural elements and cortex features of the drawing.</p> </li> <li> <p>Cortex Preservation: Distinguishes between structural elements and    cortex stippling, ensuring that important surface texture information is maintained    during processing.</p> </li> <li> <p>Neural Network Upscaling: Employs deep learning models to   enhance low-resolution images, upscaling drawings below 300 DPI for   improved detail and analysis quality.</p> </li> <li> <p>Technical Annotation System: Provides intuitive tools for replacing scar ripples    with directional arrows to indicate striking direction and flake scar patterns,   enabling clear communication of technological information.</p> </li> <li> <p>Flexible Integration: Offers GUI, command-line, and Python API interfaces for   seamless integration into diverse archaeological analysis workflows.</p> </li> </ul>"},{"location":"#visual-example","title":"Visual Example","text":"Before Processing <p>Original drawing with ripple lines</p> After Processing <p>Clean structural elements preserved</p>"},{"location":"#who-is-this-for","title":"Who is this for?","text":"<ul> <li>Archaeologists working with lithic illustrations</li> <li>Researchers creating publication ready images</li> <li>Museum Curators preparing artifact documentation</li> <li>Students studying archaeological illustration techniques</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>Issues: GitHub Issues</li> </ul>"},{"location":"#next-steps","title":"Next Steps","text":"<p>Follow the installation guide to set up Lithic Editor on your computer.</p> <p>Acknowledgements</p> <p>Thank you to The British Academy for funding this project. Thank you to Professor Robert A. Foley for support and advice.</p>"},{"location":"features/","title":"Features","text":""},{"location":"features/#image-processing","title":"Image Processing","text":""},{"location":"features/#neural-network-upscaling","title":"Neural Network Upscaling","text":"<p>Automatically enhance low-resolution images using state-of-the-art neural networks:</p> <ul> <li>ESPCN (Efficient Sub-Pixel CNN): Fast, efficient upscaling</li> <li>FSRCNN (Fast Super-Resolution CNN): Higher quality results</li> <li>Automatic DPI detection from image metadata</li> <li>Interactive dialogs for user control when metadata is missing</li> <li>300 DPI target for optimal processing quality</li> </ul> <p>Learn more about these models: OpenCV Super Resolution Tutorial</p>"},{"location":"features/#cortex-preservation","title":"Cortex Preservation","text":"<p>Intelligently preserves natural cortex stippling on lithic artifacts:</p> <ul> <li>Archaeological accuracy: Maintains distinction between cortex and worked surfaces</li> <li>Smart separation: Identifies cortex stippling before processing</li> <li>Selective processing: Only structural lines undergo ripple removal</li> <li>User control: Toggle preservation via GUI checkbox or CLI flag</li> </ul>"},{"location":"features/#intelligent-ripple-removal","title":"Intelligent Ripple Removal","text":"<p>The core feature uses advanced graph-based analysis to identify and remove hatching/ripple lines while preserving structural features. The algorithm:</p> <ul> <li>Analyzes line patterns using skeletonization</li> <li>Identifies ripple lines through pattern recognition</li> <li>Preserves structural elements and edges</li> <li>Maintains image quality and resolution</li> </ul>"},{"location":"features/#processing-visualization","title":"Processing Visualization","text":"<p>View and save step-by-step processing stages to understand how the algorithm works and to troubleshoot problematic images:</p> <ul> <li>Neural network upscaling (if needed)</li> <li>Original image analysis</li> <li>Cortex separation and preservation</li> <li>Skeletonization of structural elements only</li> <li>Endpoint and junction detection</li> <li>Line segment labeling</li> <li>Ripple identification</li> <li>Structural cleaning</li> <li>Endpoint filtering</li> <li>Final assembly with cortex restoration</li> </ul>"},{"location":"features/#manual-editing-tools","title":"Manual Editing Tools","text":"<p>Fine-tune your images before processing:</p> <ul> <li>Brush tools for cleanup</li> <li>Adjustable brush sizes</li> <li>Real-time preview</li> </ul>"},{"location":"features/#annotation-tools","title":"Annotation Tools","text":""},{"location":"features/#directional-arrows","title":"Directional Arrows","text":"<p>Add professional-quality arrows to indicate:</p> <ul> <li>Force direction on lithic artifacts</li> <li>Flake scar patterns</li> <li>Manufacturing techniques</li> <li>Impact points</li> </ul>"},{"location":"features/#arrow-customization","title":"Arrow Customization","text":"<p>Complete control over arrow appearance:</p> <ul> <li>Size: Adjust arrow dimensions</li> <li>Rotation: Orient to any angle</li> <li>Color: Choose from full color palette</li> <li>Position: Precise placement on image</li> </ul>"},{"location":"features/#arrow-controls","title":"Arrow Controls","text":"Windows/LinuxmacOS <ul> <li>Move: Click and drag</li> <li>Rotate: Shift + drag</li> <li>Resize: Alt + drag</li> <li>Delete: Select and press Delete</li> </ul> <ul> <li>Move: Click and drag</li> <li>Rotate: Shift + drag</li> <li>Resize: Option + drag</li> <li>Delete: Select and press Delete</li> </ul>"},{"location":"features/#technical-features","title":"Technical Features","text":""},{"location":"features/#dpi-preservation","title":"DPI Preservation","text":"<ul> <li>Maintains original image resolution</li> <li>Preserves DPI metadata</li> <li>Ensures publication-quality output</li> <li>Supports high-resolution displays</li> </ul>"},{"location":"features/#multiple-output-formats","title":"Multiple Output Formats","text":"Format Features Best For PNG Lossless, transparency support Web, presentations JPEG Compressed, wide compatibility Publications, sharing TIFF Uncompressed, professional Archival, printing"},{"location":"features/#command-line-processing","title":"Command-Line Processing","text":"<p>Process images from the command line:</p> <ul> <li>Single image processing</li> <li>Consistent processing parameters</li> <li>Debug output options</li> <li>Error handling</li> </ul>"},{"location":"features/#cross-platform-support","title":"Cross-Platform Support","text":"<p>Works seamlessly on:</p> <ul> <li>\u2705 Windows 10/11</li> <li>\u2705 macOS 10.15+</li> <li>\u2705 Linux (Ubuntu, Fedora, etc.)</li> </ul>"},{"location":"features/#advanced-features","title":"Advanced Features","text":""},{"location":"features/#debug-mode","title":"Debug Mode","text":"<p>Save intermediate processing steps for:</p> <ul> <li>Algorithm verification</li> <li>Quality assurance</li> <li>Research purposes</li> <li>Teaching and training</li> </ul>"},{"location":"features/#api-integration","title":"API Integration","text":"<p>Integrate Lithic Editor into your workflow:</p> <pre><code>from lithic_editor.processing import process_lithic_drawing\n\n# Process with custom parameters\nresult = process_lithic_drawing(\n    image_path=\"artifact.png\",\n    save_debug=True,\n    output_dpi=300\n)\n</code></pre>"},{"location":"features/#command-line-interface","title":"Command-Line Interface","text":"<p>Full functionality from the terminal:</p> <pre><code># Process with options\nlithic-editor process image.png --output results/ --debug\n\n# Process multiple files with bash\nfor file in *.png; do\n    lithic-editor process \"$file\" --quiet\ndone\n</code></pre>"},{"location":"screenshots/","title":"Screenshots","text":""},{"location":"screenshots/#main-application-interface","title":"Main Application Interface","text":""},{"location":"screenshots/#full-application-view","title":"Full Application View","text":"<p>The complete Lithic Editor interface showing all four panels in action.</p> <p></p>"},{"location":"screenshots/#processing-examples","title":"Processing Examples","text":""},{"location":"screenshots/#before-and-after-comparison","title":"Before and After Comparison","text":"Original Drawing <p>Lithic drawing with ripple lines</p>     ![Before](assets/screenshots/before-processing.png)    Processed Result <p>Clean drawing with ripples removed</p>     ![After](assets/screenshots/after-processing.png)"},{"location":"screenshots/#processing-steps-visualization","title":"Processing Steps Visualization","text":""},{"location":"screenshots/#algorithm-stages","title":"Algorithm Stages","text":"<p>See how the algorithm processes your image step by step:</p> <ol> <li> <p>Original Image </p> </li> <li> <p>Skeletonization </p> </li> <li> <p>Line Detection </p> </li> <li> <p>Ripple Identification </p> </li> <li> <p>Final Result </p> </li> </ol>"},{"location":"screenshots/#annotation-features","title":"Annotation Features","text":""},{"location":"screenshots/#arrow-annotations","title":"Arrow Annotations","text":"<p>Adding directional indicators to processed images:</p> <p></p>"},{"location":"screenshots/#arrow-customization","title":"Arrow Customization","text":"<p>Various arrow styles and colors:</p> <p></p>"},{"location":"screenshots/#platform-screenshots","title":"Platform Screenshots","text":""},{"location":"screenshots/#windows","title":"Windows","text":""},{"location":"screenshots/#macos","title":"macOS","text":""},{"location":"screenshots/#linux","title":"Linux","text":""},{"location":"screenshots/#command-line-interface","title":"Command Line Interface","text":""},{"location":"screenshots/#cli-help-output","title":"CLI Help Output","text":"<p><pre><code>$ lithic-editor --help\n</code></pre> </p>"},{"location":"screenshots/#batch-processing","title":"Batch Processing","text":"<p><pre><code>$ lithic-editor process *.png --output results/\n</code></pre> </p> <p>Screenshots Coming Soon</p> <p>These screenshots will be added as the documentation is updated. If you'd like to contribute screenshots, please see our Contributing Guide.</p>"},{"location":"api-reference/cli-reference/","title":"CLI Reference","text":"<p>Complete command-line interface reference for Lithic Editor.</p>"},{"location":"api-reference/cli-reference/#global-options","title":"Global Options","text":"<pre><code>lithic-editor [OPTIONS] COMMAND [ARGS]\n</code></pre> Option Short Description <code>--version</code> Show version and exit <code>--help</code> <code>-h</code> Show help message <code>--gui</code> Launch GUI directly"},{"location":"api-reference/cli-reference/#commands","title":"Commands","text":""},{"location":"api-reference/cli-reference/#gui","title":"gui","text":"<p>Launch the graphical user interface.</p> <pre><code>lithic-editor gui\n</code></pre> <p>Examples: <pre><code># Launch GUI\nlithic-editor gui\n\n# Alternative: use global flag\nlithic-editor --gui\n</code></pre></p>"},{"location":"api-reference/cli-reference/#process","title":"process","text":"<p>Process lithic drawings from the command line.</p> <pre><code>lithic-editor process IMAGE_PATH [OPTIONS]\n</code></pre> <p>Arguments: - <code>IMAGE_PATH</code> - Path to input lithic drawing image (required)</p> <p>Options:</p> Option Short Default Description <code>--output</code> <code>-o</code> <code>image_debug</code> Output directory <code>--debug</code> <code>False</code> Save debug images and processing steps <code>--quiet</code> <code>-q</code> <code>False</code> Suppress output <code>--auto-upscale</code> <code>False</code> Automatically upscale images below target DPI <code>--default-dpi</code> <code>None</code> Default DPI to assume for images without metadata <code>--upscale-model</code> <code>espcn</code> Model to use for upscaling (espcn, fsrcnn) <code>--upscale-threshold</code> <code>300</code> DPI threshold for upscaling <code>--no-preserve-cortex</code> <code>False</code> Disable cortex stippling preservation <p>Examples:</p> <pre><code># Basic processing\nlithic-editor process drawing.png\n\n# Specify output directory\nlithic-editor process drawing.png --output results/\n\n# Save debug images and processing steps\nlithic-editor process drawing.png --debug\n\n# Quiet mode (no output)\nlithic-editor process drawing.png --quiet\n\n# Combine options\nlithic-editor process artifact.png -o output/ --debug --quiet\n\n# Neural network upscaling for low-DPI images\nlithic-editor process low_dpi.png --auto-upscale --default-dpi 150\n\n# Use FSRCNN model with custom threshold\nlithic-editor process drawing.png --upscale-model fsrcnn --upscale-threshold 250\n\n# Disable cortex preservation for specific images\nlithic-editor process artifact.png --no-preserve-cortex --debug\n</code></pre>"},{"location":"api-reference/cli-reference/#docs","title":"docs","text":"<p>Access documentation.</p> <pre><code>lithic-editor docs [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>--offline</code> Serve documentation locally <p>Examples:</p> <pre><code># Open online documentation\nlithic-editor docs\n\n# Serve documentation locally\nlithic-editor docs --offline\n</code></pre>"},{"location":"api-reference/cli-reference/#help","title":"help","text":"<p>Show detailed help information.</p> <pre><code>lithic-editor help [TOPIC]\n</code></pre> <p>Topics: - <code>api</code> - Show Python API usage examples</p> <p>Examples:</p> <pre><code># Show general help\nlithic-editor help\n\n# Show API help\nlithic-editor help api\n</code></pre>"},{"location":"api-reference/cli-reference/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 General error 2 Command line syntax error 3 File not found 4 Permission denied"},{"location":"api-reference/cli-reference/#environment-variables","title":"Environment Variables","text":""},{"location":"api-reference/cli-reference/#lithic_output_dir","title":"LITHIC_OUTPUT_DIR","text":"<p>Default output directory for processed images.</p> <pre><code>export LITHIC_OUTPUT_DIR=/path/to/output\nlithic-editor process image.png  # Uses LITHIC_OUTPUT_DIR\n</code></pre>"},{"location":"api-reference/cli-reference/#lithic_debug","title":"LITHIC_DEBUG","text":"<p>Enable debug mode by default.</p> <pre><code>export LITHIC_DEBUG=1\nlithic-editor process image.png  # Debug enabled\n</code></pre>"},{"location":"api-reference/cli-reference/#shell-completion","title":"Shell Completion","text":""},{"location":"api-reference/cli-reference/#bash","title":"Bash","text":"<p>Add to <code>~/.bashrc</code>:</p> <pre><code>eval \"$(_LITHIC_EDITOR_COMPLETE=bash_source lithic-editor)\"\n</code></pre>"},{"location":"api-reference/cli-reference/#zsh","title":"Zsh","text":"<p>Add to <code>~/.zshrc</code>:</p> <pre><code>eval \"$(_LITHIC_EDITOR_COMPLETE=zsh_source lithic-editor)\"\n</code></pre>"},{"location":"api-reference/cli-reference/#fish","title":"Fish","text":"<p>Add to <code>~/.config/fish/completions/lithic-editor.fish</code>:</p> <pre><code>eval (env _LITHIC_EDITOR_COMPLETE=fish_source lithic-editor)\n</code></pre>"},{"location":"api-reference/cli-reference/#batch-processing","title":"Batch Processing","text":""},{"location":"api-reference/cli-reference/#using-shell-loops","title":"Using Shell Loops","text":"<pre><code># Process all PNG files\nfor file in *.png; do\n    lithic-editor process \"$file\" --output \"processed/${file%.png}/\"\ndone\n\n# Process with parallel\nfind . -name \"*.png\" | parallel -j 4 lithic-editor process {} --output {.}/\n\n# Process and log results\nfor file in drawings/*.png; do\n    echo \"Processing $file...\"\n    if lithic-editor process \"$file\" --quiet; then\n        echo \"\u2713 $file\" &gt;&gt; success.log\n    else\n        echo \"\u2717 $file\" &gt;&gt; failed.log\n    fi\ndone\n</code></pre>"},{"location":"api-reference/cli-reference/#using-find-and-xargs","title":"Using Find and Xargs","text":"<pre><code># Process all images recursively\nfind . -type f \\( -name \"*.png\" -o -name \"*.jpg\" \\) \\\n    -exec lithic-editor process {} --output {}_processed/ \\;\n\n# Parallel processing with xargs\nfind drawings/ -name \"*.png\" -print0 | \\\n    xargs -0 -n 1 -P 4 -I {} lithic-editor process {} --quiet\n</code></pre>"},{"location":"api-reference/cli-reference/#scripting-examples","title":"Scripting Examples","text":""},{"location":"api-reference/cli-reference/#processing-script","title":"Processing Script","text":"<pre><code>#!/bin/bash\n# process_lithics.sh - Batch process lithic drawings\n\nINPUT_DIR=\"${1:-./drawings}\"\nOUTPUT_DIR=\"${2:-./processed}\"\nLOG_FILE=\"processing.log\"\n\n# Create output directory\nmkdir -p \"$OUTPUT_DIR\"\n\n# Initialize log\necho \"Processing started: $(date)\" &gt; \"$LOG_FILE\"\n\n# Process counter\nSUCCESS=0\nFAILED=0\n\n# Process each image\nfor image in \"$INPUT_DIR\"/*.{png,jpg,jpeg,tif,tiff} 2&gt;/dev/null; do\n    [ -f \"$image\" ] || continue\n\n    basename=$(basename \"$image\")\n    echo \"Processing: $basename\"\n\n    if lithic-editor process \"$image\" \\\n        --output \"$OUTPUT_DIR/${basename%.*}\" \\\n        --debug --quiet; then\n        ((SUCCESS++))\n        echo \"\u2713 $basename\" &gt;&gt; \"$LOG_FILE\"\n    else\n        ((FAILED++))\n        echo \"\u2717 $basename\" &gt;&gt; \"$LOG_FILE\"\n    fi\ndone\n\n# Summary\necho \"Completed: $SUCCESS successful, $FAILED failed\" | tee -a \"$LOG_FILE\"\n</code></pre>"},{"location":"api-reference/cli-reference/#watch-folder-script","title":"Watch Folder Script","text":"<pre><code>#!/bin/bash\n# watch_folder.sh - Auto-process new images\n\nWATCH_DIR=\"${1:-./incoming}\"\nOUTPUT_DIR=\"${2:-./processed}\"\n\necho \"Watching $WATCH_DIR for new images...\"\n\n# Using inotify (Linux)\ninotifywait -m -e create -e moved_to \"$WATCH_DIR\" |\nwhile read -r directory event filename; do\n    if [[ \"$filename\" =~ \\.(png|jpg|jpeg|tif|tiff)$ ]]; then\n        echo \"Processing new file: $filename\"\n        lithic-editor process \"$WATCH_DIR/$filename\" \\\n            --output \"$OUTPUT_DIR/${filename%.*}\"\n    fi\ndone\n\n# Using fswatch (macOS)\nfswatch -0 \"$WATCH_DIR\" | while read -d \"\" path; do\n    filename=$(basename \"$path\")\n    if [[ \"$filename\" =~ \\.(png|jpg|jpeg|tif|tiff)$ ]]; then\n        echo \"Processing: $filename\"\n        lithic-editor process \"$path\" \\\n            --output \"$OUTPUT_DIR/${filename%.*}\"\n    fi\ndone\n</code></pre>"},{"location":"api-reference/cli-reference/#docker-usage","title":"Docker Usage","text":"<pre><code># Dockerfile\nFROM python:3.9\nRUN pip install git+https://github.com/JasonGellis/lithic-editor.git\nENTRYPOINT [\"lithic-editor\"]\n</code></pre> <pre><code># Build image\ndocker build -t lithic-editor .\n\n# Process image\ndocker run -v $(pwd):/data lithic-editor \\\n    process /data/drawing.png --output /data/output/\n\n# Run GUI (requires X11)\ndocker run -e DISPLAY=$DISPLAY \\\n    -v /tmp/.X11-unix:/tmp/.X11-unix \\\n    -v $(pwd):/data \\\n    lithic-editor gui\n</code></pre>"},{"location":"api-reference/cli-reference/#performance-optimization","title":"Performance Optimization","text":""},{"location":"api-reference/cli-reference/#memory-management","title":"Memory Management","text":"<pre><code># Limit memory usage\nulimit -v 2097152  # 2GB limit\nlithic-editor process large_image.png\n\n# Nice level for background processing\nnice -n 19 lithic-editor process image.png\n</code></pre>"},{"location":"api-reference/cli-reference/#parallel-processing","title":"Parallel Processing","text":"<pre><code># GNU Parallel\nparallel -j 4 lithic-editor process {} ::: *.png\n\n# Custom parallel script\n#!/bin/bash\nMAX_JOBS=4\nfor file in *.png; do\n    while [ $(jobs -r | wc -l) -ge $MAX_JOBS ]; do\n        sleep 1\n    done\n    lithic-editor process \"$file\" &amp;\ndone\nwait\n</code></pre>"},{"location":"api-reference/cli-reference/#troubleshooting","title":"Troubleshooting","text":""},{"location":"api-reference/cli-reference/#debug-mode","title":"Debug Mode","text":"<pre><code># Enable verbose output\nlithic-editor process image.png --debug\n\n# Check version and environment\nlithic-editor --version\n\n# Test with sample image\nlithic-editor process --help\n</code></pre>"},{"location":"api-reference/cli-reference/#common-issues","title":"Common Issues","text":"<p>Permission Denied: <pre><code># Check permissions\nls -la image.png\n# Fix permissions\nchmod 644 image.png\n</code></pre></p> <p>Output Directory Issues: <pre><code># Create output directory first\nmkdir -p output/\nlithic-editor process image.png --output output/\n</code></pre></p> <p>Large File Processing: <pre><code># Increase timeout for large files\ntimeout 300 lithic-editor process large_image.tiff\n</code></pre></p>"},{"location":"api-reference/cli-reference/#integration-examples","title":"Integration Examples","text":""},{"location":"api-reference/cli-reference/#makefile","title":"Makefile","text":"<pre><code># Makefile for lithic processing\n\nINPUT_DIR = drawings\nOUTPUT_DIR = processed\nIMAGES = $(wildcard $(INPUT_DIR)/*.png)\nOUTPUTS = $(patsubst $(INPUT_DIR)/%.png,$(OUTPUT_DIR)/%/9_high_quality.png,$(IMAGES))\n\nall: $(OUTPUTS)\n\n$(OUTPUT_DIR)/%/9_high_quality.png: $(INPUT_DIR)/%.png\n    @mkdir -p $(dir $@)\n    lithic-editor process $&lt; --output $(OUTPUT_DIR)/$*\n\nclean:\n    rm -rf $(OUTPUT_DIR)\n\n.PHONY: all clean\n</code></pre>"},{"location":"api-reference/cli-reference/#git-hook","title":"Git Hook","text":"<pre><code>#!/bin/bash\n# .git/hooks/pre-commit\n# Process lithic images before commit\n\nfor file in $(git diff --cached --name-only | grep -E '\\.(png|jpg)$'); do\n    if [[ \"$file\" == drawings/* ]]; then\n        echo \"Processing $file...\"\n        lithic-editor process \"$file\" --output \"processed/${file#drawings/}\"\n        git add \"processed/${file#drawings/}\"\n    fi\ndone\n</code></pre>"},{"location":"api-reference/introduction/","title":"API Reference","text":"<p>The Lithic Editor provides multiple interfaces for integrating with your workflow:</p>"},{"location":"api-reference/introduction/#available-apis","title":"Available APIs","text":""},{"location":"api-reference/introduction/#python-api","title":"Python API","text":"<p>Programmatic access to all processing functions for integration into your Python scripts and applications.</p> <pre><code>from lithic_editor.processing import process_lithic_drawing\nresult = process_lithic_drawing(\"artifact.png\")\n</code></pre>"},{"location":"api-reference/introduction/#command-line-interface","title":"Command Line Interface","text":"<p>Complete CLI for processing images, batch operations, and automation workflows.</p> <pre><code>lithic-editor process drawing.png --output results/\n</code></pre>"},{"location":"api-reference/introduction/#quick-examples","title":"Quick Examples","text":""},{"location":"api-reference/introduction/#basic-processing","title":"Basic Processing","text":"<pre><code>from lithic_editor.processing import process_lithic_drawing\n\n# Simple processing\nresult = process_lithic_drawing(\"lithic_drawing.png\")\n\n# With options\nresult = process_lithic_drawing(\n    image_path=\"drawing.png\",\n    output_folder=\"output\",\n    save_debug=True,\n    output_dpi=300\n)\n</code></pre>"},{"location":"api-reference/introduction/#batch-processing","title":"Batch Processing","text":"<pre><code>from pathlib import Path\nfrom lithic_editor.processing import process_lithic_drawing\n\n# Process all images in a directory\nfor image_file in Path(\"drawings\").glob(\"*.png\"):\n    result = process_lithic_drawing(str(image_file))\n    print(f\"Processed: {image_file.name}\")\n</code></pre>"},{"location":"api-reference/introduction/#integration-example","title":"Integration Example","text":"<pre><code>import numpy as np\nfrom PIL import Image\nfrom lithic_editor.processing import process_lithic_drawing\n\ndef process_with_preprocessing(image_path):\n    \"\"\"Custom preprocessing before lithic processing.\"\"\"\n    # Load and preprocess\n    img = Image.open(image_path)\n    img = img.convert('L')  # Convert to grayscale\n\n    # Save preprocessed image\n    temp_path = \"temp_preprocessed.png\"\n    img.save(temp_path)\n\n    # Process with lithic editor\n    result = process_lithic_drawing(temp_path)\n    return result\n</code></pre>"},{"location":"api-reference/introduction/#return-values","title":"Return Values","text":"<p>The <code>process_lithic_drawing</code> function returns a dictionary containing:</p> <pre><code>{\n    'success': bool,           # Processing status\n    'output_path': str,        # Path to processed image\n    'debug_folder': str,       # Path to debug images (if save_debug=True)\n    'processing_time': float, # Time taken in seconds\n    'image_info': {\n        'width': int,\n        'height': int,\n        'dpi': tuple,          # (x_dpi, y_dpi)\n        'format': str          # Image format\n    }\n}\n</code></pre>"},{"location":"api-reference/introduction/#error-handling","title":"Error Handling","text":"<pre><code>from lithic_editor.processing import process_lithic_drawing\n\ntry:\n    result = process_lithic_drawing(\"drawing.png\")\n    if result['success']:\n        print(f\"Processed successfully: {result['output_path']}\")\n    else:\n        print(\"Processing failed\")\nexcept FileNotFoundError:\n    print(\"Image file not found\")\nexcept Exception as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"api-reference/introduction/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the Python API for detailed function documentation</li> <li>Review the CLI Reference for command-line usage</li> <li>See Processing Guide for workflow ideas</li> </ul>"},{"location":"api-reference/overview/","title":"API Reference","text":"<p>The Lithic Editor provides multiple interfaces for integrating with your workflow:</p>"},{"location":"api-reference/overview/#available-apis","title":"Available APIs","text":""},{"location":"api-reference/overview/#python-api","title":"Python API","text":"<p>Programmatic access to all processing functions for integration into your Python scripts and applications.</p> <pre><code>from lithic_editor.processing import process_lithic_drawing\nresult = process_lithic_drawing(\"artifact.png\")\n</code></pre>"},{"location":"api-reference/overview/#command-line-interface","title":"Command Line Interface","text":"<p>Complete CLI for processing images, batch operations, and automation workflows.</p> <pre><code>lithic-editor process drawing.png --output results/\n</code></pre>"},{"location":"api-reference/overview/#quick-examples","title":"Quick Examples","text":""},{"location":"api-reference/overview/#basic-processing","title":"Basic Processing","text":"<pre><code>from lithic_editor.processing import process_lithic_drawing\n\n# Simple processing\nresult = process_lithic_drawing(\"lithic_drawing.png\")\n\n# With options\nresult = process_lithic_drawing(\n    image_path=\"drawing.png\",\n    output_folder=\"output\",\n    save_debug=True,\n    output_dpi=300\n)\n</code></pre>"},{"location":"api-reference/overview/#batch-processing","title":"Batch Processing","text":"<pre><code>from pathlib import Path\nfrom lithic_editor.processing import process_lithic_drawing\n\n# Process all images in a directory\nfor image_file in Path(\"drawings\").glob(\"*.png\"):\n    result = process_lithic_drawing(str(image_file))\n    print(f\"Processed: {image_file.name}\")\n</code></pre>"},{"location":"api-reference/overview/#integration-example","title":"Integration Example","text":"<pre><code>import numpy as np\nfrom PIL import Image\nfrom lithic_editor.processing import process_lithic_drawing\n\ndef process_with_preprocessing(image_path):\n    \"\"\"Custom preprocessing before lithic processing.\"\"\"\n    # Load and preprocess\n    img = Image.open(image_path)\n    img = img.convert('L')  # Convert to grayscale\n\n    # Save preprocessed image\n    temp_path = \"temp_preprocessed.png\"\n    img.save(temp_path)\n\n    # Process with lithic editor\n    result = process_lithic_drawing(temp_path)\n    return result\n</code></pre>"},{"location":"api-reference/overview/#return-values","title":"Return Values","text":"<p>The <code>process_lithic_drawing</code> function returns a dictionary containing:</p> <pre><code>{\n    'success': bool,           # Processing status\n    'output_path': str,        # Path to processed image\n    'debug_folder': str,       # Path to debug images (if save_debug=True)\n    'processing_time': float, # Time taken in seconds\n    'image_info': {\n        'width': int,\n        'height': int,\n        'dpi': tuple,          # (x_dpi, y_dpi)\n        'format': str          # Image format\n    }\n}\n</code></pre>"},{"location":"api-reference/overview/#error-handling","title":"Error Handling","text":"<pre><code>from lithic_editor.processing import process_lithic_drawing\n\ntry:\n    result = process_lithic_drawing(\"drawing.png\")\n    if result['success']:\n        print(f\"Processed successfully: {result['output_path']}\")\n    else:\n        print(\"Processing failed\")\nexcept FileNotFoundError:\n    print(\"Image file not found\")\nexcept Exception as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"api-reference/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Explore the Python API for detailed function documentation</li> <li>Review the CLI Reference for command-line usage</li> <li>See Integration Examples for workflow ideas</li> </ul>"},{"location":"api-reference/python-api/","title":"Python API","text":"<p>Complete reference for the Lithic Editor Python API.</p>"},{"location":"api-reference/python-api/#core-functions","title":"Core Functions","text":""},{"location":"api-reference/python-api/#process_lithic_drawing","title":"process_lithic_drawing","text":"<p>The main processing function for removing ripple lines from lithic drawings.</p> <pre><code>process_lithic_drawing(\n    image_path: str,\n    output_folder: str = \"image_debug\",\n    dpi_info: Optional[Tuple[int, int]] = None,\n    format_info: Optional[str] = None,\n    output_dpi: Optional[int] = None,\n    save_debug: bool = False,\n    upscale_low_dpi: bool = False,\n    default_dpi: Optional[int] = None,\n    upscale_model: str = 'espcn',\n    target_dpi: int = 300,\n    scale_image_path: Optional[str] = None,\n    return_scale_factor: bool = False,\n    debug_filename: Optional[str] = None\n) -&gt; Union[np.ndarray, Dict[str, Any]]\n</code></pre>"},{"location":"api-reference/python-api/#parameters","title":"Parameters","text":"Parameter Type Default Description <code>image_path</code> <code>str</code> required Path to the input image file <code>output_folder</code> <code>str</code> <code>\"image_debug\"</code> Directory for output files <code>dpi_info</code> <code>tuple</code> <code>None</code> Override DPI as (x_dpi, y_dpi) <code>format_info</code> <code>str</code> <code>None</code> Override output format (png, jpg, tiff) <code>output_dpi</code> <code>int</code> <code>None</code> Set specific output DPI <code>save_debug</code> <code>bool</code> <code>False</code> Save intermediate processing steps to disk <code>upscale_low_dpi</code> <code>bool</code> <code>False</code> Enable neural network upscaling for low-DPI images <code>default_dpi</code> <code>int</code> <code>None</code> DPI to assume if metadata missing <code>upscale_model</code> <code>str</code> <code>'espcn'</code> Model to use: 'espcn' or 'fsrcnn' <code>target_dpi</code> <code>int</code> <code>300</code> Target DPI for upscaling <code>scale_image_path</code> <code>str</code> <code>None</code> Scale image to process with same factor <code>return_scale_factor</code> <code>bool</code> <code>False</code> Return upscaling details in result <code>debug_filename</code> <code>str</code> <code>None</code> Custom filename for debug images <code>preserve_cortex</code> <code>bool</code> <code>True</code> Preserve cortex stippling (default: enabled)"},{"location":"api-reference/python-api/#returns","title":"Returns","text":"<p>Dictionary containing: - <code>success</code> (bool): Whether processing completed successfully - <code>output_path</code> (str): Path to the processed image - <code>debug_folder</code> (str): Path to debug images directory - <code>processing_time</code> (float): Processing duration in seconds - <code>image_info</code> (dict): Image metadata</p>"},{"location":"api-reference/python-api/#example-usage","title":"Example Usage","text":"<pre><code>from lithic_editor.processing import process_lithic_drawing\n\n# Basic usage\nresult = process_lithic_drawing(\"artifact.png\")\n\n# With all options including upscaling\nresult = process_lithic_drawing(\n    image_path=\"drawing.png\",\n    output_folder=\"results\",\n    dpi_info=(300, 300),\n    format_info=\"png\",\n    output_dpi=300,\n    save_debug=True,\n    upscale_low_dpi=True,\n    default_dpi=150,\n    upscale_model='fsrcnn',\n    target_dpi=300,\n    preserve_cortex=True\n)\n\n# Check results\nif result['success']:\n    print(f\"Output: {result['output_path']}\")\n    print(f\"Processing time: {result['processing_time']:.2f}s\")\n</code></pre>"},{"location":"api-reference/python-api/#annotation-classes","title":"Annotation Classes","text":""},{"location":"api-reference/python-api/#arrow","title":"Arrow","text":"<p>Class for managing directional arrows in lithic drawings.</p> <pre><code>from lithic_editor.annotations import Arrow\n\n# Create an arrow\narrow = Arrow(\n    start_point=(100, 100),\n    end_point=(200, 150),\n    color='black',\n    width=2\n)\n\n# Add to image\narrow.draw(image)\n</code></pre>"},{"location":"api-reference/python-api/#methods","title":"Methods","text":""},{"location":"api-reference/python-api/#__init__start_point-end_point-colorblack-width2","title":"<code>__init__(start_point, end_point, color='black', width=2)</code>","text":"<p>Initialize an arrow annotation.</p>"},{"location":"api-reference/python-api/#drawimage-npndarray","title":"<code>draw(image) -&gt; np.ndarray</code>","text":"<p>Draw the arrow on an image.</p>"},{"location":"api-reference/python-api/#rotateangle-float-center-tuple-none","title":"<code>rotate(angle: float, center: tuple) -&gt; None</code>","text":"<p>Rotate the arrow around a center point.</p>"},{"location":"api-reference/python-api/#scalefactor-float-none","title":"<code>scale(factor: float) -&gt; None</code>","text":"<p>Scale the arrow size.</p>"},{"location":"api-reference/python-api/#image-processing-utilities","title":"Image Processing Utilities","text":""},{"location":"api-reference/python-api/#load_image","title":"load_image","text":"<p>Load and validate an image file.</p> <pre><code>from lithic_editor.utils import load_image\n\nimage, metadata = load_image(\"drawing.png\")\nprint(f\"Image shape: {image.shape}\")\nprint(f\"DPI: {metadata.get('dpi', 'Not set')}\")\n</code></pre>"},{"location":"api-reference/python-api/#save_with_metadata","title":"save_with_metadata","text":"<p>Save an image preserving metadata.</p> <pre><code>from lithic_editor.utils import save_with_metadata\n\nsave_with_metadata(\n    image_array,\n    output_path=\"result.png\",\n    dpi=(300, 300),\n    format=\"PNG\"\n)\n</code></pre>"},{"location":"api-reference/python-api/#advanced-usage","title":"Advanced Usage","text":""},{"location":"api-reference/python-api/#custom-processing-pipeline","title":"Custom Processing Pipeline","text":"<pre><code>from lithic_editor.processing import (\n    process_lithic_drawing,\n    apply_skeleton,\n    detect_ripples\n)\nfrom lithic_editor.utils import load_image, save_with_metadata\n\ndef custom_pipeline(image_path):\n    \"\"\"Custom processing with intermediate steps.\"\"\"\n\n    # Load image\n    image, metadata = load_image(image_path)\n\n    # Step 1: Create skeleton\n    skeleton = apply_skeleton(image)\n\n    # Step 2: Detect ripple patterns\n    ripples = detect_ripples(skeleton)\n\n    # Step 3: Process with custom parameters\n    result = process_lithic_drawing(\n        image_path,\n        save_debug=True,\n        output_dpi=metadata.get('dpi', [300, 300])[0]\n    )\n\n    return result\n</code></pre>"},{"location":"api-reference/python-api/#batch-processing-with-progress","title":"Batch Processing with Progress","text":"<pre><code>from pathlib import Path\nfrom lithic_editor.processing import process_lithic_drawing\nfrom tqdm import tqdm  # Optional: for progress bar\n\ndef batch_process(input_dir, output_dir):\n    \"\"\"Process all images in a directory.\"\"\"\n\n    input_path = Path(input_dir)\n    output_path = Path(output_dir)\n    output_path.mkdir(exist_ok=True)\n\n    # Get all image files\n    image_files = list(input_path.glob(\"*.png\"))\n    image_files.extend(input_path.glob(\"*.jpg\"))\n\n    results = []\n    for image_file in tqdm(image_files, desc=\"Processing\"):\n        try:\n            result = process_lithic_drawing(\n                str(image_file),\n                output_folder=str(output_path / image_file.stem)\n            )\n            results.append({\n                'file': image_file.name,\n                'success': result['success'],\n                'time': result['processing_time']\n            })\n        except Exception as e:\n            results.append({\n                'file': image_file.name,\n                'success': False,\n                'error': str(e)\n            })\n\n    return results\n\n# Usage\nresults = batch_process(\"drawings/\", \"processed/\")\nprint(f\"Processed {sum(r['success'] for r in results)}/{len(results)} images\")\n</code></pre>"},{"location":"api-reference/python-api/#integration-with-numpypil","title":"Integration with NumPy/PIL","text":"<pre><code>import numpy as np\nfrom PIL import Image\nfrom lithic_editor.processing import process_lithic_drawing\n\ndef process_from_array(image_array: np.ndarray) -&gt; np.ndarray:\n    \"\"\"Process a NumPy array.\"\"\"\n\n    # Save array as temporary image\n    temp_path = \"temp_image.png\"\n    Image.fromarray(image_array).save(temp_path)\n\n    # Process\n    result = process_lithic_drawing(temp_path)\n\n    # Load result as array\n    if result['success']:\n        processed = np.array(Image.open(result['output_path']))\n        return processed\n    return image_array\n\n# Example with PIL\npil_image = Image.open(\"drawing.png\")\narray = np.array(pil_image)\nprocessed_array = process_from_array(array)\nresult_image = Image.fromarray(processed_array)\n</code></pre>"},{"location":"api-reference/python-api/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/python-api/#common-exceptions","title":"Common Exceptions","text":"<pre><code>from lithic_editor.processing import process_lithic_drawing\n\ntry:\n    result = process_lithic_drawing(\"image.png\")\nexcept FileNotFoundError:\n    print(\"Image file not found\")\nexcept ValueError as e:\n    print(f\"Invalid parameter: {e}\")\nexcept PermissionError:\n    print(\"Cannot write to output directory\")\nexcept Exception as e:\n    print(f\"Unexpected error: {e}\")\n</code></pre>"},{"location":"api-reference/python-api/#validation","title":"Validation","text":"<pre><code>from pathlib import Path\n\ndef validate_and_process(image_path):\n    \"\"\"Validate before processing.\"\"\"\n\n    path = Path(image_path)\n\n    # Check file exists\n    if not path.exists():\n        raise FileNotFoundError(f\"File not found: {image_path}\")\n\n    # Check file type\n    valid_extensions = {'.png', '.jpg', '.jpeg', '.tiff', '.tif'}\n    if path.suffix.lower() not in valid_extensions:\n        raise ValueError(f\"Unsupported format: {path.suffix}\")\n\n    # Check file size\n    size_mb = path.stat().st_size / (1024 * 1024)\n    if size_mb &gt; 100:\n        raise ValueError(f\"File too large: {size_mb:.1f}MB\")\n\n    # Process\n    return process_lithic_drawing(str(path))\n</code></pre>"},{"location":"api-reference/python-api/#performance-tips","title":"Performance Tips","text":"<ol> <li>Memory Management: For large images, process in batches</li> <li>Parallel Processing: Use multiprocessing for batch operations</li> <li>Cache Results: Store processed images to avoid reprocessing</li> <li>Optimize Input: Resize very large images before processing</li> </ol> <pre><code>from concurrent.futures import ProcessPoolExecutor\nfrom pathlib import Path\n\ndef parallel_batch_process(image_files, max_workers=4):\n    \"\"\"Process multiple images in parallel.\"\"\"\n\n    with ProcessPoolExecutor(max_workers=max_workers) as executor:\n        futures = []\n        for image_file in image_files:\n            future = executor.submit(process_lithic_drawing, str(image_file))\n            futures.append((image_file, future))\n\n        results = []\n        for image_file, future in futures:\n            try:\n                result = future.result(timeout=60)\n                results.append((image_file, result))\n            except Exception as e:\n                print(f\"Failed to process {image_file}: {e}\")\n\n    return results\n</code></pre>"},{"location":"developer/contributing/","title":"Contributing to Lithic Editor","text":"<p>Thank you for your interest in contributing to the Lithic Editor and Annotator! This guide will help you get started.</p>"},{"location":"developer/contributing/#development-setup","title":"Development Setup","text":""},{"location":"developer/contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.7 or higher</li> <li>Git</li> <li>Basic familiarity with PyQt5 and image processing concepts</li> </ul>"},{"location":"developer/contributing/#setting-up-your-environment","title":"Setting Up Your Environment","text":"<ol> <li> <p>Fork and clone the repository: <pre><code>git clone https://github.com/YourUsername/lithic-editor.git\ncd lithic-editor\n</code></pre></p> </li> <li> <p>Create a virtual environment (recommended): <pre><code>python -m venv lithic-env\nsource lithic-env/bin/activate  # Linux/macOS\n# or\nlithic-env\\Scripts\\activate     # Windows\n</code></pre></p> </li> <li> <p>Install in development mode: <pre><code># Install with test dependencies\npip install -e \".[test]\"\n\n# Or install with all development tools\npip install -e \".[dev]\"\n\n# Or install everything (dev + docs + test)\npip install -e \".[dev,docs,test]\"\n</code></pre></p> </li> </ol>"},{"location":"developer/contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"developer/contributing/#running-tests","title":"Running Tests","text":"<p>Always run tests before submitting changes:</p> <pre><code># Run all tests\npytest\n\n# Run with coverage\npytest --cov=lithic_editor --cov-report=html\n\n# Run specific test file\npytest tests/test_processing.py\n\n# Run specific test\npytest tests/test_processing.py::TestProcessingModule::test_process_image_from_file\n\n# View coverage report\nopen htmlcov/index.html  # macOS\nxdg-open htmlcov/index.html  # Linux\nstart htmlcov/index.html  # Windows\n</code></pre>"},{"location":"developer/contributing/#code-quality","title":"Code Quality","text":"<p>We use several tools to maintain code quality:</p> <pre><code># Format code\nblack lithic_editor tests\n\n# Check style\nflake8 lithic_editor tests\n\n# Type checking (optional)\nmypy lithic_editor\n</code></pre>"},{"location":"developer/contributing/#running-the-application","title":"Running the Application","text":"<p>Test your changes:</p> <pre><code># GUI mode\nlithic-editor --gui\n\n# CLI mode\nlithic-editor process example.png --debug\n\n# Help system\nlithic-editor docs --offline\n</code></pre>"},{"location":"developer/contributing/#project-structure","title":"Project Structure","text":"<pre><code>lithic_editor/\n\u251c\u2500\u2500 annotations/         # Arrow annotation system\n\u2502   \u251c\u2500\u2500 arrows.py       # Arrow classes and canvas\n\u2502   \u2514\u2500\u2500 integration.py  # GUI integration helpers\n\u251c\u2500\u2500 cli/                # Command-line interface\n\u2502   \u251c\u2500\u2500 main.py        # Main CLI entry point\n\u2502   \u251c\u2500\u2500 help.py        # Help system\n\u2502   \u2514\u2500\u2500 docs_server.py # Documentation server\n\u251c\u2500\u2500 gui/                # Graphical user interface\n\u2502   \u2514\u2500\u2500 main_window.py # Main application window\n\u2514\u2500\u2500 processing/         # Image processing algorithms\n    \u2514\u2500\u2500 ripple_removal.py # Core processing engine\n\ntests/                  # Test suite\n\u251c\u2500\u2500 conftest.py        # Test configuration\n\u251c\u2500\u2500 test_processing.py # Processing tests\n\u251c\u2500\u2500 test_annotations.py # Annotation tests\n\u251c\u2500\u2500 test_cli.py        # CLI tests\n\u2514\u2500\u2500 test_gui.py        # GUI tests\n\ndocs/                   # Documentation source\n\u251c\u2500\u2500 index.md           # Homepage\n\u251c\u2500\u2500 user-guide/        # User documentation\n\u251c\u2500\u2500 developer/         # Developer documentation\n\u2514\u2500\u2500 getting-started/   # Installation guides\n</code></pre>"},{"location":"developer/contributing/#writing-tests","title":"Writing Tests","text":""},{"location":"developer/contributing/#test-categories","title":"Test Categories","text":"<ol> <li>Unit Tests: Test individual functions/classes</li> <li>Integration Tests: Test component interactions</li> <li>GUI Tests: Test user interface components</li> <li>CLI Tests: Test command-line interface</li> </ol>"},{"location":"developer/contributing/#test-guidelines","title":"Test Guidelines","text":"<ul> <li>Write tests for new features</li> <li>Maintain test coverage above 80%</li> <li>Use descriptive test names</li> <li>Use fixtures for common setup</li> <li>Mock external dependencies</li> </ul>"},{"location":"developer/contributing/#example-test","title":"Example Test","text":"<pre><code>def test_process_image_with_debug(sample_image, temp_dir):\n    \"\"\"Test processing with debug output enabled.\"\"\"\n    result = process_lithic_drawing(\n        image_path=str(sample_image),\n        output_folder=str(temp_dir),\n        save_debug=True\n    )\n\n    assert result is not None\n    debug_files = list(temp_dir.glob(\"*.png\"))\n    assert len(debug_files) &gt; 0\n</code></pre>"},{"location":"developer/contributing/#documentation","title":"Documentation","text":""},{"location":"developer/contributing/#building-documentation","title":"Building Documentation","text":"<pre><code># Install documentation dependencies\npip install -e \".[docs]\"\n\n# Serve documentation locally\nmkdocs serve\n\n# Build static documentation\nmkdocs build\n\n# Deploy to GitHub Pages (maintainers only)\nmkdocs gh-deploy\n</code></pre>"},{"location":"developer/contributing/#writing-documentation","title":"Writing Documentation","text":"<ul> <li>Use clear, concise language</li> <li>Include code examples</li> <li>Add screenshots for UI features</li> <li>Follow the existing structure</li> </ul>"},{"location":"developer/contributing/#submission-guidelines","title":"Submission Guidelines","text":""},{"location":"developer/contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li> <p>Create a feature branch: <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Make your changes following the coding standards</p> </li> <li> <p>Write tests for new functionality</p> </li> <li> <p>Update documentation if needed</p> </li> <li> <p>Run the full test suite: <pre><code>pytest\n</code></pre></p> </li> <li> <p>Check code quality: <pre><code>black lithic_editor tests\nflake8 lithic_editor tests\n</code></pre></p> </li> <li> <p>Commit your changes: <pre><code>git add .\ngit commit -m \"Add feature: your feature description\"\n</code></pre></p> </li> <li> <p>Push and create pull request: <pre><code>git push origin feature/your-feature-name\n</code></pre></p> </li> </ol>"},{"location":"developer/contributing/#pull-request-requirements","title":"Pull Request Requirements","text":"<ul> <li> All tests pass</li> <li> Code coverage maintained or improved</li> <li> Documentation updated (if applicable)</li> <li> Code follows style guidelines</li> <li> Descriptive commit messages</li> <li> Pull request description explains changes</li> </ul>"},{"location":"developer/contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> <li>Email: jg760@cam.ac.uk</li> </ul>"},{"location":"developer/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Please note that this project is released with a Contributor Code of Conduct. By participating in this project you agree to abide by its terms.</p>"},{"location":"developer/contributing/#areas-for-contribution","title":"Areas for Contribution","text":"<ul> <li>Algorithm improvements: Enhance ripple detection accuracy</li> <li>GUI enhancements: Improve user experience</li> <li>Documentation: Add examples and tutorials</li> <li>Testing: Increase test coverage</li> <li>Performance: Optimize processing speed</li> <li>Platform support: Improve cross-platform compatibility</li> </ul> <p>Thank you for contributing! \ud83c\udfdb\ufe0f</p>"},{"location":"developer/testing/","title":"Testing Guide","text":""},{"location":"developer/testing/#overview","title":"Overview","text":"<p>Lithic Editor uses a comprehensive test suite to ensure reliability and maintain code quality. This guide covers how to run, write, and understand the tests.</p>"},{"location":"developer/testing/#quick-start","title":"Quick Start","text":""},{"location":"developer/testing/#installation","title":"Installation","text":"<pre><code># Install with test dependencies\npip install -e \".[test]\"\n\n# Or install all development dependencies\npip install -e \".[dev]\"\n</code></pre>"},{"location":"developer/testing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run with verbose output\npytest -v\n\n# Run specific test file\npytest tests/test_processing.py\n\n# Run with coverage\npytest --cov=lithic_editor --cov-report=html\n</code></pre>"},{"location":"developer/testing/#test-structure","title":"Test Structure","text":""},{"location":"developer/testing/#test-organization","title":"Test Organization","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py           # Shared fixtures and configuration\n\u251c\u2500\u2500 test_processing.py    # Image processing tests\n\u251c\u2500\u2500 test_annotations.py   # Arrow annotation tests  \n\u251c\u2500\u2500 test_cli.py          # Command-line interface tests\n\u251c\u2500\u2500 test_gui.py          # GUI component tests\n\u2514\u2500\u2500 README.md            # Test documentation\n</code></pre>"},{"location":"developer/testing/#test-categories","title":"Test Categories","text":""},{"location":"developer/testing/#1-processing-tests-test_processingpy","title":"1. Processing Tests (<code>test_processing.py</code>)","text":"<p>Tests the core image processing algorithms:</p> <ul> <li>Image loading from files and numpy arrays</li> <li>Ripple removal algorithm correctness</li> <li>Debug output generation</li> <li>DPI preservation and handling</li> <li>Multiple image format support</li> <li>Error handling and edge cases</li> </ul> <p>Example: <pre><code>def test_process_image_from_file(sample_image, temp_dir):\n    \"\"\"Test processing an image from file path.\"\"\"\n    result = process_lithic_drawing(\n        image_path=str(sample_image),\n        output_folder=str(temp_dir),\n        save_debug=False\n    )\n\n    assert result is not None\n    assert isinstance(result, np.ndarray)\n    assert result.shape == (100, 100)\n</code></pre></p>"},{"location":"developer/testing/#2-annotation-tests-test_annotationspy","title":"2. Annotation Tests (<code>test_annotations.py</code>)","text":"<p>Tests the arrow annotation system:</p> <ul> <li>Arrow creation and customization</li> <li>Detection status calculations  </li> <li>Canvas widget functionality</li> <li>Coordinate mapping between view and image</li> <li>DPI-aware arrow sizing</li> </ul> <p>Example: <pre><code>def test_arrow_detection_status():\n    \"\"\"Test arrow detection status calculation.\"\"\"\n    small_arrow = Arrow(size=10)\n    assert small_arrow.get_detection_status() == \"error\"\n\n    large_arrow = Arrow(size=100)\n    assert large_arrow.get_detection_status() == \"good\"\n</code></pre></p>"},{"location":"developer/testing/#3-cli-tests-test_clipy","title":"3. CLI Tests (<code>test_cli.py</code>)","text":"<p>Tests the command-line interface:</p> <ul> <li>Argument parsing for all commands</li> <li>File validation and error handling</li> <li>Help system functionality</li> <li>Documentation commands</li> <li>Process workflow integration</li> </ul> <p>Example: <pre><code>def test_process_command():\n    \"\"\"Test process command parsing.\"\"\"\n    parser = create_parser()\n    args = parser.parse_args(['process', 'image.png', '--debug'])\n\n    assert args.command == 'process'\n    assert args.input_image == 'image.png'\n    assert args.debug == True\n</code></pre></p>"},{"location":"developer/testing/#4-gui-tests-test_guipy","title":"4. GUI Tests (<code>test_gui.py</code>)","text":"<p>Tests the graphical interface:</p> <ul> <li>Window creation and initialization</li> <li>Widget existence and configuration</li> <li>Button states and interactions</li> <li>Processing thread functionality</li> <li>Canvas operations</li> </ul> <p>Example: <pre><code>def test_gui_creation(qapp):\n    \"\"\"Test creating main GUI window.\"\"\"\n    window = LithicProcessorGUI()\n    assert window is not None\n    assert window.windowTitle() == \"Lithic Editor and Annotator\"\n</code></pre></p>"},{"location":"developer/testing/#test-fixtures","title":"Test Fixtures","text":""},{"location":"developer/testing/#available-fixtures","title":"Available Fixtures","text":"<p>Defined in <code>conftest.py</code>:</p>"},{"location":"developer/testing/#qapp","title":"<code>qapp</code>","text":"<p>PyQt5 QApplication instance for GUI tests.</p>"},{"location":"developer/testing/#temp_dir","title":"<code>temp_dir</code>","text":"<p>Temporary directory that's automatically cleaned up.</p>"},{"location":"developer/testing/#sample_image","title":"<code>sample_image</code>","text":"<p>100x100 pixel test image with horizontal lines and a vertical line.</p>"},{"location":"developer/testing/#sample_image_with_dpi","title":"<code>sample_image_with_dpi</code>","text":"<p>300x300 pixel test image with DPI metadata.</p>"},{"location":"developer/testing/#sample_numpy_array","title":"<code>sample_numpy_array</code>","text":"<p>NumPy array representing a test image.</p>"},{"location":"developer/testing/#sample_pixmap","title":"<code>sample_pixmap</code>","text":"<p>QPixmap for GUI testing.</p>"},{"location":"developer/testing/#using-fixtures","title":"Using Fixtures","text":"<pre><code>def test_with_fixtures(sample_image, temp_dir):\n    \"\"\"Example test using fixtures.\"\"\"\n    # sample_image is automatically created\n    # temp_dir is automatically created and cleaned up\n\n    result = process_image(str(sample_image))\n\n    output_file = temp_dir / \"result.png\"\n    save_image(result, output_file)\n\n    assert output_file.exists()\n</code></pre>"},{"location":"developer/testing/#writing-new-tests","title":"Writing New Tests","text":""},{"location":"developer/testing/#test-naming","title":"Test Naming","text":"<ul> <li>File names: <code>test_*.py</code></li> <li>Class names: <code>TestClassName</code></li> <li>Function names: <code>test_function_name</code></li> <li>Use descriptive names that explain what's being tested</li> </ul>"},{"location":"developer/testing/#test-structure_1","title":"Test Structure","text":"<pre><code>class TestFeature:\n    \"\"\"Test suite for Feature.\"\"\"\n\n    def test_basic_functionality(self):\n        \"\"\"Test basic feature works.\"\"\"\n        # Arrange\n        feature = Feature()\n\n        # Act\n        result = feature.do_something()\n\n        # Assert\n        assert result is not None\n\n    def test_edge_case(self):\n        \"\"\"Test feature handles edge case.\"\"\"\n        # Test implementation\n        pass\n\n    def test_error_handling(self):\n        \"\"\"Test feature handles errors gracefully.\"\"\"\n        with pytest.raises(ValueError):\n            Feature().invalid_operation()\n</code></pre>"},{"location":"developer/testing/#best-practices","title":"Best Practices","text":"<ol> <li>One concept per test: Each test should focus on one specific behavior</li> <li>Descriptive names: Test names should clearly indicate what they test</li> <li>Use fixtures: Reuse common setup through fixtures</li> <li>Mock external dependencies: Use <code>unittest.mock</code> for external services</li> <li>Test both success and failure: Include error cases and edge conditions</li> <li>Keep tests fast: Avoid unnecessary file I/O or network calls</li> </ol>"},{"location":"developer/testing/#continuous-integration","title":"Continuous Integration","text":""},{"location":"developer/testing/#github-actions","title":"GitHub Actions","text":"<p>Tests run automatically on:</p> <ul> <li>Every push to main branch</li> <li>Every pull request</li> <li>Multiple platforms: Windows, macOS, Linux</li> <li>Multiple Python versions: 3.7-3.11</li> </ul>"},{"location":"developer/testing/#configuration","title":"Configuration","text":"<p>See <code>.github/workflows/tests.yml</code> for the complete CI configuration.</p>"},{"location":"developer/testing/#special-considerations","title":"Special Considerations","text":"<p>Linux CI (headless): <pre><code>export QT_QPA_PLATFORM=offscreen\nxvfb-run -a pytest\n</code></pre></p> <p>Cross-platform testing: - Uses virtual display on Linux - Handles platform-specific PyQt5 differences - Tests file path handling across platforms</p>"},{"location":"developer/testing/#coverage-goals","title":"Coverage Goals","text":""},{"location":"developer/testing/#current-coverage","title":"Current Coverage","text":"<p>Run with coverage to see current status: <pre><code>pytest --cov=lithic_editor --cov-report=html\nopen htmlcov/index.html\n</code></pre></p>"},{"location":"developer/testing/#target-coverage","title":"Target Coverage","text":"<ul> <li>Overall: 80%+</li> <li>Processing module: 90%+</li> <li>CLI module: 85%+</li> <li>GUI module: 70%+ (some interactions hard to test)</li> </ul>"},{"location":"developer/testing/#improving-coverage","title":"Improving Coverage","text":"<p>Focus areas for improvement: - Error handling paths - Edge cases in image processing - GUI interaction flows - File I/O error conditions</p>"},{"location":"developer/testing/#debugging-tests","title":"Debugging Tests","text":""},{"location":"developer/testing/#running-specific-tests","title":"Running Specific Tests","text":"<pre><code># Run one test\npytest tests/test_processing.py::TestProcessingModule::test_specific_case -v\n\n# Run tests matching pattern\npytest -k \"test_arrow\" -v\n\n# Stop on first failure\npytest -x\n\n# Show local variables on failure\npytest --tb=long\n</code></pre>"},{"location":"developer/testing/#test-debugging","title":"Test Debugging","text":"<pre><code>def test_debug_example():\n    \"\"\"Example test with debugging.\"\"\"\n    import pdb; pdb.set_trace()  # Debugger breakpoint\n\n    result = function_to_test()\n\n    # Or use print statements\n    print(f\"Result: {result}\")\n\n    assert result == expected\n</code></pre>"},{"location":"developer/testing/#common-issues","title":"Common Issues","text":"<p>PyQt5 issues: - Ensure QApplication exists (use <code>qapp</code> fixture) - Set <code>QT_QPA_PLATFORM=offscreen</code> for headless testing</p> <p>File permissions: - Use <code>temp_dir</code> fixture for file operations - Clean up resources in teardown</p> <p>Import errors: - Install package in development mode: <code>pip install -e .</code> - Check Python path includes project directory</p>"},{"location":"developer/testing/#performance-testing","title":"Performance Testing","text":""},{"location":"developer/testing/#benchmarking","title":"Benchmarking","text":"<pre><code>import time\n\ndef test_processing_performance(sample_image):\n    \"\"\"Test processing performance.\"\"\"\n    start_time = time.time()\n\n    result = process_lithic_drawing(str(sample_image))\n\n    end_time = time.time()\n    processing_time = end_time - start_time\n\n    # Should process in reasonable time\n    assert processing_time &lt; 30.0  # 30 seconds max\n    assert result is not None\n</code></pre>"},{"location":"developer/testing/#memory-testing","title":"Memory Testing","text":"<pre><code>import psutil\nimport os\n\ndef test_memory_usage(large_sample_image):\n    \"\"\"Test memory usage stays reasonable.\"\"\"\n    process = psutil.Process(os.getpid())\n    initial_memory = process.memory_info().rss\n\n    result = process_lithic_drawing(str(large_sample_image))\n\n    final_memory = process.memory_info().rss\n    memory_increase = final_memory - initial_memory\n\n    # Should not use excessive memory (100MB max increase)\n    assert memory_increase &lt; 100 * 1024 * 1024\n</code></pre>"},{"location":"developer/testing/#contributing-tests","title":"Contributing Tests","text":""},{"location":"developer/testing/#before-submitting","title":"Before Submitting","text":"<ol> <li>Run full test suite: <code>pytest</code></li> <li>Check coverage: <code>pytest --cov=lithic_editor</code></li> <li>Verify style: <code>black tests/</code> and <code>flake8 tests/</code></li> <li>Test on your platform: Ensure tests pass locally</li> </ol>"},{"location":"developer/testing/#pull-request-requirements","title":"Pull Request Requirements","text":"<ul> <li>All existing tests must pass</li> <li>New features must include tests</li> <li>Test coverage should not decrease</li> <li>Follow existing test patterns and naming conventions</li> </ul>"},{"location":"developer/testing/#getting-help","title":"Getting Help","text":"<ul> <li>Test Issues: GitHub Issues</li> <li>Test Discussions: GitHub Discussions</li> <li>Documentation: This guide and test docstrings</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/installation/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>Python: 3.7 or higher</li> <li>RAM: 4GB minimum (8GB recommended)</li> <li>Storage: 500MB free space</li> </ul>"},{"location":"getting-started/installation/#operating-systems","title":"Operating Systems","text":"<ul> <li>Windows 10/11</li> <li>macOS &gt;= 10.15</li> <li>Linux (Ubuntu 20.04+, Fedora 34+, etc.)</li> </ul>"},{"location":"getting-started/installation/#step-1-prerequisites","title":"Step 1: Prerequisites","text":"<p>Before installing Lithic Editor, ensure you have:</p> <ul> <li>Python 3.7+ installed on your system (Download Python)</li> <li>Git installed for GitHub access (Download Git)</li> <li>pip package manager (included with Python 3.4+)</li> </ul> <p>Verify your setup: <pre><code>python --version    # Should show 3.7 or higher\ngit --version       # Should show git version\npip --version       # Should show pip version\n</code></pre></p>"},{"location":"getting-started/installation/#step-2-virtual-environment-setup-recommended","title":"Step 2: Virtual Environment Setup (Recommended)","text":"<p>Create an isolated environment for Lithic Editor:</p> venvconda <pre><code># Create virtual environment\npython -m venv lithic-env\n\n# Activate it\n# Windows\nlithic-env\\Scripts\\activate\n# macOS/Linux\nsource lithic-env/bin/activate\n</code></pre> <pre><code># Create conda environment\nconda create -n lithic python=3.9\nconda activate lithic\n</code></pre>"},{"location":"getting-started/installation/#step-3-installation","title":"Step 3: Installation","text":"<p>Choose your installation method:</p>"},{"location":"getting-started/installation/#method-1-install-from-github-most-users","title":"Method 1: Install from GitHub (Most Users)","text":"<p>With your virtual environment activated:</p> <pre><code># Install directly from GitHub\npip install git+https://github.com/JasonGellis/lithic-editor.git\n</code></pre> <p>To install a specific version: <pre><code># Install a specific release\npip install git+https://github.com/JasonGellis/lithic-editor.git@v1.0.0\n</code></pre></p>"},{"location":"getting-started/installation/#method-2-development-installation-contributors","title":"Method 2: Development Installation (Contributors)","text":"<p>For developers, contributors, or users who want to modify the code:</p> <pre><code># Clone the repository\ngit clone https://github.com/JasonGellis/lithic-editor.git\ncd lithic-editor\n\n# Basic development install (editable mode)\npip install -e .\n\n# Install with test dependencies (recommended for developers)\npip install -e \".[test]\"\n\n# Install with all development tools\npip install -e \".[dev]\"\n\n# Install with documentation tools\npip install -e \".[docs]\"\n\n# Install everything (dev + test + docs)\npip install -e \".[dev,test,docs]\"\n</code></pre>"},{"location":"getting-started/installation/#step-4-verify-installation","title":"Step 4: Verify Installation","text":"<p>Test that everything is working:</p> <pre><code># Check version\nlithic-editor --version\n\n# Run help command\nlithic-editor --help\n\n# Launch GUI (opens a window)\nlithic-editor --gui\n</code></pre>"},{"location":"getting-started/installation/#dependency-information","title":"Dependency Information","text":""},{"location":"getting-started/installation/#core-dependencies","title":"Core Dependencies","text":"<p>All dependencies are automatically installed:</p> Package Purpose numpy Numerical operations opencv-python Image processing Pillow Image I/O PyQt5 GUI framework scikit-image Advanced image processing networkx Graph algorithms scipy Scientific computing"},{"location":"getting-started/installation/#development-dependencies","title":"Development Dependencies","text":"Group Purpose Includes <code>test</code> Running tests pytest, pytest-qt, pytest-cov <code>dev</code> Code quality black, flake8, mypy + test dependencies <code>docs</code> Building docs mkdocs, mkdocs-material + extensions <p>All dependencies are automatically installed with the package. However, if you encounter issues, you can manually install them:</p> <pre><code># Core dependencies\npip install numpy opencv-python Pillow PyQt5 scikit-image networkx scipy\n\n# Optional: For building/editing documentation (NOT needed for viewing docs)\n# Users can view docs with 'lithic-editor docs' without these packages\npip install mkdocs mkdocs-material pymdown-extensions\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":"ImportError: No module named 'PyQt5' <p>Solution: Install PyQt5 manually <pre><code>pip install PyQt5==5.15.9\n</code></pre></p> OpenCV import error <p>Solution: Reinstall OpenCV <pre><code>pip uninstall opencv-python opencv-python-headless\npip install opencv-python\n</code></pre></p> GUI doesn't launch on Linux <p>Solution: Install system dependencies <pre><code># Ubuntu/Debian\nsudo apt-get install python3-pyqt5 libxcb-xinerama0\n\n# Fedora\nsudo dnf install python3-qt5\n</code></pre></p> Permission denied error <p>Solution: Install in user space <pre><code>pip install --user git+https://github.com/JasonGellis/lithic-editor.git\n</code></pre></p>"},{"location":"getting-started/installation/#platform-specific-setup","title":"Platform-Specific Setup","text":"WindowsmacOSLinux <p>You might need Visual C++ redistributables: - Download from Microsoft</p> <p>You might need to allow the application in Security &amp; Privacy settings the first time you run it.</p> <p>Some distributions require additional packages: <pre><code># Ubuntu/Debian\nsudo apt-get install python3-dev python3-pip python3-venv\n\n# Fedora\nsudo dnf install python3-devel\n\n# Arch\nsudo pacman -S python python-pip\n</code></pre></p>"},{"location":"getting-started/installation/#updating","title":"Updating","text":"<p>To update to the latest version:</p> <pre><code># Update from GitHub\npip install --upgrade git+https://github.com/JasonGellis/lithic-editor.git\n\n# For development installation\ncd lithic-editor\ngit pull\npip install -e . --upgrade\n</code></pre>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove Lithic Editor:</p> <pre><code>pip uninstall lithic-editor\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Once installed, proceed to the User Guide to begin processing lithic drawings.</p>"},{"location":"getting-started/quickstart/","title":"Quick Start Guide","text":"<p>This guide will help you process your first lithic drawing in under 5 minutes!</p>"},{"location":"getting-started/quickstart/#launch-the-application","title":"Launch the Application","text":"<p>After installation, launch Lithic Editor:</p> <pre><code>lithic-editor --gui\n</code></pre> <p>The main window will open with four panels:</p> <ol> <li>Input Image - Original drawing</li> <li>Processed Image - Cleaned result</li> <li>Arrow Annotations - Annotation canvas</li> <li>Processing Steps - Debug visualization</li> </ol>"},{"location":"getting-started/quickstart/#step-1-load-your-image","title":"Step 1: Load Your Image","text":"<p>Click the \"Load Image\" button and select a lithic drawing file.</p> <p>Supported Formats</p> <ul> <li>PNG (recommended)</li> <li>JPEG/JPG</li> <li>TIFF/TIF</li> <li>BMP</li> </ul> <p>The image will appear in the Input Image panel.</p>"},{"location":"getting-started/quickstart/#step-2-process-the-image","title":"Step 2: Process the Image","text":"<p>Click the \"Process Image\" button to remove ripple lines.</p> <p>The algorithm will: 1. Analyze the drawing structure 2. Identify ripple patterns 3. Remove ripple lines 4. Preserve structural elements</p> <p>Processing Time</p> <p>Processing typically takes 5-30 seconds depending on image size and complexity.</p>"},{"location":"getting-started/quickstart/#step-3-add-annotations-optional","title":"Step 3: Add Annotations (Optional)","text":"<p>After processing, you can add directional arrows:</p>"},{"location":"getting-started/quickstart/#adding-arrows","title":"Adding Arrows","text":"<ol> <li>Click \"Add Arrow\" - An arrow appears in the center</li> <li>Drag to position it over a feature</li> <li>Shift+drag to rotate to the desired angle</li> <li>Alt/Option+drag to resize</li> </ol>"},{"location":"getting-started/quickstart/#customizing-arrows","title":"Customizing Arrows","text":"<ul> <li>Click \"Arrow Color\" to change color</li> <li>Click \"Delete Arrow\" to remove selected arrow</li> <li>Click \"Clear Arrows\" to remove all arrows</li> </ul>"},{"location":"getting-started/quickstart/#step-4-save-your-result","title":"Step 4: Save Your Result","text":"<p>Click \"Save Result\" to export your processed image.</p>"},{"location":"getting-started/quickstart/#save-options","title":"Save Options","text":"<ul> <li>Format: Choose PNG, JPEG, or TIFF</li> <li>Location: Select output folder</li> <li>Filename: Choose descriptive name</li> </ul>"},{"location":"getting-started/quickstart/#complete-example","title":"Complete Example","text":"<p>Here's a complete workflow:</p> <pre><code># Using the Python API instead of GUI\nfrom lithic_editor.processing import process_lithic_drawing\n\n# Process the image\nresult = process_lithic_drawing(\n    \"lithic_artifact.png\",\n    output_folder=\"results/\",\n    save_debug=False  # Set True to save intermediate processing steps\n)\n\nprint(\"Processing complete!\")\n</code></pre>"},{"location":"getting-started/quickstart/#tips-for-best-results","title":"Tips for Best Results","text":""},{"location":"getting-started/quickstart/#image-quality","title":"Image Quality","text":"<ul> <li>Use high-resolution scans (300+ DPI)</li> <li>Ensure good contrast between lines and background</li> <li>Clean, black lines on white background work best</li> </ul>"},{"location":"getting-started/quickstart/#pre-processing","title":"Pre-Processing","text":"<p>If your image has issues: 1. Use the brush tool to clean up artifacts 2. Remove any text or scale bars before processing 3. Ensure the drawing is properly oriented</p>"},{"location":"getting-started/quickstart/#arrow-annotations","title":"Arrow Annotations","text":"<ul> <li>Use consistent arrow sizes for professional appearance</li> <li>Match arrow direction to striking patterns</li> <li>Consider using different colors for different features</li> </ul>"},{"location":"getting-started/quickstart/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Action Windows/Linux macOS Add Arrow Ctrl+A Cmd+A Delete Arrow Delete Delete Save Result Ctrl+S Cmd+S Load Image Ctrl+O Cmd+O Quit Ctrl+Q Cmd+Q"},{"location":"getting-started/quickstart/#command-line-quick-start","title":"Command Line Quick Start","text":"<p>For batch processing or automation:</p> <pre><code># Process a single image\nlithic-editor process drawing.png\n\n# Process with debug output\nlithic-editor process drawing.png --debug\n\n# Specify output directory\nlithic-editor process drawing.png --output results/\n\n# Process quietly (no console output)\nlithic-editor process drawing.png --quiet\n</code></pre>"},{"location":"getting-started/quickstart/#troubleshooting","title":"Troubleshooting","text":"Image doesn't load <ul> <li>Check file format is supported</li> <li>Ensure file isn't corrupted</li> <li>Try converting to PNG format</li> </ul> Processing takes too long <ul> <li>Reduce image size (resize to max 4000px)</li> <li>Close other applications</li> <li>Check available RAM</li> </ul> Arrows don't appear <ul> <li>Ensure image is processed first</li> <li>Click \"Add Arrow\" button</li> <li>Check arrow color isn't same as background</li> </ul>"},{"location":"getting-started/quickstart/#whats-next","title":"What's Next?","text":"<ul> <li>Learn about advanced processing options</li> <li>Explore annotation techniques</li> <li>Read the full user guide</li> </ul>"},{"location":"getting-started/quickstart/#getting-help","title":"Getting Help","text":"<p>If you encounter issues:</p> <ol> <li>Check the User Guide</li> <li>Search GitHub Issues</li> <li>Ask in Discussions</li> <li>Contact: jg760@cam.ac.uk</li> </ol>"},{"location":"getting-started/requirements/","title":"Requirements","text":""},{"location":"getting-started/requirements/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/requirements/#minimum-specifications","title":"Minimum Specifications","text":"<ul> <li>Processor: Dual-core CPU (2.0 GHz or faster)</li> <li>Memory: 4 GB RAM</li> <li>Storage: 500 MB available space</li> <li>Display: 1280\u00d7720 resolution</li> <li>Graphics: OpenGL 2.0 support</li> </ul>"},{"location":"getting-started/requirements/#recommended-specifications","title":"Recommended Specifications","text":"<ul> <li>Processor: Quad-core CPU (3.0 GHz or faster)</li> <li>Memory: 8 GB RAM or more</li> <li>Storage: 2 GB available space</li> <li>Display: 1920\u00d71080 resolution or higher</li> <li>Graphics: Dedicated graphics card</li> </ul>"},{"location":"getting-started/requirements/#software-requirements","title":"Software Requirements","text":""},{"location":"getting-started/requirements/#python-version","title":"Python Version","text":"<ul> <li>Minimum: Python 3.7</li> <li>Recommended: Python 3.9 or later</li> <li>Maximum tested: Python 3.11</li> </ul>"},{"location":"getting-started/requirements/#operating-systems","title":"Operating Systems","text":"WindowsmacOSLinux <ul> <li>Windows 10 (64-bit) or later</li> <li>Windows 11 fully supported</li> <li>Requires Visual C++ Redistributable</li> </ul> <ul> <li>macOS 10.15 Catalina or later</li> <li>Apple Silicon (M1/M2) supported</li> <li>Intel Macs supported</li> </ul> <ul> <li>Ubuntu 20.04 LTS or later</li> <li>Fedora 34 or later</li> <li>Debian 11 or later</li> <li>Other distributions with Qt5 support</li> </ul>"},{"location":"getting-started/requirements/#python-dependencies","title":"Python Dependencies","text":"<p>All dependencies are automatically installed with the package:</p> Package Version Purpose numpy \u22651.20.0 Numerical operations opencv-contrib-python \u22654.5.0 Image processing and neural network upscaling Pillow \u22658.0.0 Image I/O PyQt5 \u22655.15.0 GUI framework scikit-image \u22650.18.0 Advanced image processing networkx \u22652.5 Graph algorithms scipy \u22651.7.0 Scientific computing"},{"location":"getting-started/requirements/#optional-dependencies","title":"Optional Dependencies","text":""},{"location":"getting-started/requirements/#for-development","title":"For Development","text":"<ul> <li>pytest (\u22656.0) - Testing framework</li> <li>black (\u226521.0) - Code formatting</li> <li>flake8 (\u22653.8) - Code linting</li> <li>mypy (\u22650.800) - Type checking</li> </ul>"},{"location":"getting-started/requirements/#for-documentation","title":"For Documentation","text":"<ul> <li>mkdocs (\u22651.5.0) - Documentation generator</li> <li>mkdocs-material (\u22659.0.0) - Material theme</li> <li>pymdown-extensions (\u226510.0) - Markdown extensions</li> </ul>"},{"location":"getting-started/requirements/#image-format-support","title":"Image Format Support","text":""},{"location":"getting-started/requirements/#input-formats","title":"Input Formats","text":"<ul> <li>PNG - Recommended, lossless</li> <li>JPEG/JPG - Widely supported</li> <li>TIFF/TIF - Professional quality</li> <li>BMP - Uncompressed</li> </ul>"},{"location":"getting-started/requirements/#output-formats","title":"Output Formats","text":"<ul> <li>PNG - Best for web and presentations</li> <li>JPEG - Best for publications</li> <li>TIFF - Best for archival</li> </ul>"},{"location":"getting-started/requirements/#performance-considerations","title":"Performance Considerations","text":""},{"location":"getting-started/requirements/#image-size-recommendations","title":"Image Size Recommendations","text":"<ul> <li>Optimal: 2000-3000 pixels maximum dimension</li> <li>Maximum: 8000 pixels (may be slow)</li> <li>DPI: 300 DPI for best quality</li> </ul>"},{"location":"getting-started/requirements/#memory-usage","title":"Memory Usage","text":"<p>Memory usage depends on image size: - 2000\u00d72000 image: ~50 MB - 4000\u00d74000 image: ~200 MB - 8000\u00d78000 image: ~800 MB</p>"},{"location":"getting-started/requirements/#network-requirements","title":"Network Requirements","text":"<ul> <li>No internet connection required for core functionality</li> <li>Internet needed only for:</li> <li>Installation from GitHub</li> <li>Downloading updates</li> <li>Accessing online documentation</li> </ul>"},{"location":"getting-started/requirements/#compatibility-notes","title":"Compatibility Notes","text":""},{"location":"getting-started/requirements/#known-compatible-ides","title":"Known Compatible IDEs","text":"<ul> <li>Visual Studio Code</li> <li>PyCharm</li> <li>Jupyter Notebook/Lab</li> <li>Spyder</li> <li>Sublime Text</li> </ul>"},{"location":"getting-started/requirements/#virtual-environments","title":"Virtual Environments","text":"<p>Compatible with: - venv - virtualenv - conda/miniconda - poetry - pipenv</p>"},{"location":"getting-started/requirements/#checking-your-system","title":"Checking Your System","text":"<p>To verify your system meets the requirements:</p> <pre><code>import sys\nimport platform\n\nprint(f\"Python version: {sys.version}\")\nprint(f\"Platform: {platform.platform()}\")\nprint(f\"Architecture: {platform.machine()}\")\nprint(f\"Processor: {platform.processor()}\")\n\n# Check for required packages\nrequired = ['numpy', 'cv2', 'PIL', 'PyQt5', 'skimage', 'networkx', 'scipy']\nfor package in required:\n    try:\n        __import__(package)\n        print(f\"\u2713 {package} installed\")\n    except ImportError:\n        print(f\"\u2717 {package} missing\")\n</code></pre>"},{"location":"getting-started/requirements/#troubleshooting-requirements","title":"Troubleshooting Requirements","text":"<p>If you encounter issues:</p> <ol> <li>Update pip: <code>pip install --upgrade pip</code></li> <li>Update setuptools: <code>pip install --upgrade setuptools wheel</code></li> <li>Check Python version: <code>python --version</code></li> <li>Verify 64-bit Python: <code>python -c \"import sys; print(sys.maxsize &gt; 2**32)\"</code></li> </ol> <p>For platform-specific issues, see the Installation Guide.</p>"},{"location":"user-guide/interface/","title":"User Guide Overview","text":""},{"location":"user-guide/interface/#introduction","title":"Introduction","text":"<p>This comprehensive guide covers all aspects of using Lithic Editor and Annotator for processing archaeological lithic drawings. Whether you're new to the software or looking to master advanced features, this guide will help you achieve professional results.</p>"},{"location":"user-guide/interface/#workflow-overview","title":"Workflow Overview","text":"<p>The typical workflow for processing lithic drawings follows these steps:</p> <pre><code>graph LR\n    A[Load Image] --&gt; B[Pre-Process]\n    B --&gt; C[Remove Ripples]\n    C --&gt; D[Add Annotations]\n    D --&gt; E[Save Result]</code></pre>"},{"location":"user-guide/interface/#main-interface","title":"Main Interface","text":"<p>The Lithic Editor interface is divided into four main sections:</p>"},{"location":"user-guide/interface/#1-input-panel-top-left","title":"1. Input Panel (Top Left)","text":"<ul> <li>Displays the original image</li> <li>Provides editing tools for cleanup</li> <li>Shows image information (size, DPI)</li> </ul>"},{"location":"user-guide/interface/#2-processed-panel-top-right","title":"2. Processed Panel (Top Right)","text":"<ul> <li>Shows the cleaned image after ripple removal</li> <li>Updates in real-time during processing</li> <li>Maintains original image quality</li> </ul>"},{"location":"user-guide/interface/#3-annotation-panel-bottom-left","title":"3. Annotation Panel (Bottom Left)","text":"<ul> <li>Canvas for adding directional arrows</li> <li>Interactive arrow manipulation</li> <li>Color and size controls</li> </ul>"},{"location":"user-guide/interface/#4-debug-panel-bottom-right","title":"4. Debug Panel (Bottom Right)","text":"<ul> <li>Displays processing steps</li> <li>Shows algorithm visualization</li> <li>Helps understand the cleaning process</li> </ul>"},{"location":"user-guide/interface/#core-functions","title":"Core Functions","text":""},{"location":"user-guide/interface/#image-loading","title":"Image Loading","text":"<ul> <li>Support for multiple formats</li> <li>Automatic DPI detection</li> <li>Image validation and error checking</li> </ul>"},{"location":"user-guide/interface/#processing-engine","title":"Processing Engine","text":"<ul> <li>Graph-based line analysis</li> <li>Pattern recognition algorithms</li> <li>Structural preservation logic</li> </ul>"},{"location":"user-guide/interface/#annotation-system","title":"Annotation System","text":"<ul> <li>Vector-based arrows</li> <li>DPI-aware sizing</li> <li>Export-ready graphics</li> </ul>"},{"location":"user-guide/interface/#navigation","title":"Navigation","text":"<p>Use the sidebar to explore specific topics:</p> <ul> <li>Processing Images - Detailed processing guide</li> </ul>"},{"location":"user-guide/interface/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/interface/#for-optimal-results","title":"For Optimal Results","text":"<ol> <li>Image Preparation</li> <li>Use high-resolution scans (300+ DPI)</li> <li>Ensure good contrast</li> <li> <p>Remove unnecessary elements</p> </li> <li> <p>Processing Settings</p> </li> <li>Enable \"View and Save Debug Images\" for complex images</li> <li>Review intermediate steps in Processing Steps panel</li> <li> <p>Set custom DPI if needed (default preserves original)</p> </li> <li> <p>Annotation Guidelines</p> </li> <li>Maintain consistent arrow sizes</li> <li>Use appropriate colors</li> <li>Align with archaeological standards</li> </ol>"},{"location":"user-guide/interface/#common-workflows","title":"Common Workflows","text":""},{"location":"user-guide/interface/#single-image-processing","title":"Single Image Processing","text":"<ol> <li>Load image</li> <li>Process</li> <li>Annotate</li> <li>Save</li> </ol>"},{"location":"user-guide/interface/#batch-processing","title":"Batch Processing","text":"<ol> <li>Prepare image folder</li> <li>Use CLI for batch operations</li> <li>Review results</li> <li>Apply annotations as needed</li> </ol>"},{"location":"user-guide/interface/#research-documentation","title":"Research Documentation","text":"<ol> <li>Process with debug enabled</li> <li>Save all intermediate steps</li> <li>Document parameters used</li> <li>Archive original and processed versions</li> </ol>"},{"location":"user-guide/interface/#understanding-the-algorithm","title":"Understanding the Algorithm","text":"<p>The ripple removal algorithm works through several stages:</p>"},{"location":"user-guide/interface/#stage-1-skeletonization","title":"Stage 1: Skeletonization","text":"<p>Reduces lines to single-pixel width while preserving connectivity.</p>"},{"location":"user-guide/interface/#stage-2-graph-construction","title":"Stage 2: Graph Construction","text":"<p>Builds a network representation of line segments.</p>"},{"location":"user-guide/interface/#stage-3-pattern-analysis","title":"Stage 3: Pattern Analysis","text":"<p>Identifies ripple patterns based on: - Line orientation - Spacing consistency - Length distribution</p>"},{"location":"user-guide/interface/#stage-4-selective-removal","title":"Stage 4: Selective Removal","text":"<p>Removes identified ripple lines while preserving: - Structural boundaries - Tool edges - Important features</p>"},{"location":"user-guide/interface/#stage-5-enhancement","title":"Stage 5: Enhancement","text":"<p>Cleans up the result and restores line quality.</p>"},{"location":"user-guide/interface/#tips-and-tricks","title":"Tips and Tricks","text":"<p>Quick Processing</p> <p>For faster processing of large images, resize to 2000-3000px maximum dimension first.</p> <p>Arrow Visibility</p> <p>Use contrasting colors for arrows - black on light backgrounds, white on dark.</p> <p>Batch Operations</p> <p>Use the CLI for processing multiple images with consistent settings.</p> <p>Quality Control</p> <p>Enable \"View and Save Debug Images\" and review the processing steps to ensure important features aren't removed.</p>"},{"location":"user-guide/interface/#troubleshooting-guide","title":"Troubleshooting Guide","text":""},{"location":"user-guide/interface/#processing-issues","title":"Processing Issues","text":"Problem Solution Structural lines removed Adjust algorithm sensitivity Ripples not fully removed Check image contrast Processing too slow Reduce image size Memory errors Close other applications"},{"location":"user-guide/interface/#annotation-issues","title":"Annotation Issues","text":"Problem Solution Arrows too small Increase DPI setting Can't select arrow Click closer to arrow center Arrows disappear Check arrow color vs background"},{"location":"user-guide/interface/#getting-support","title":"Getting Support","text":"<p>If you need help:</p> <ol> <li>Check Documentation: Review relevant guide sections</li> <li>GitHub Issues: Search existing issues or create new one</li> <li>Community Forum: Ask in GitHub Discussions</li> <li>Direct Contact: Email jg760@cam.ac.uk for research inquiries</li> </ol>"},{"location":"user-guide/interface/#next-steps","title":"Next Steps","text":"<ul> <li>Continue to Processing Images for detailed processing instructions</li> </ul>"},{"location":"user-guide/overview/","title":"User Guide Overview","text":""},{"location":"user-guide/overview/#introduction","title":"Introduction","text":"<p>This comprehensive guide covers all aspects of using Lithic Editor and Annotator for processing archaeological lithic drawings. Whether you're new to the software or looking to master advanced features, this guide will help you achieve professional results.</p>"},{"location":"user-guide/overview/#workflow-overview","title":"Workflow Overview","text":"<p>The typical workflow for processing lithic drawings follows these steps:</p> <pre><code>graph LR\n    A[Load Image] --&gt; B[Pre-Process]\n    B --&gt; C[Remove Ripples]\n    C --&gt; D[Add Annotations]\n    D --&gt; E[Save Result]</code></pre>"},{"location":"user-guide/overview/#quick-start-tutorial","title":"Quick Start Tutorial","text":"<p>Launch the application: <pre><code>lithic-editor --gui\n</code></pre></p>"},{"location":"user-guide/overview/#step-1-load-your-image","title":"Step 1: Load Your Image","text":"<ol> <li>Click \"Load Image\" button</li> <li>Select a lithic drawing file (PNG, JPEG, TIFF, or BMP)</li> <li>Image appears in the Input Image panel</li> </ol>"},{"location":"user-guide/overview/#step-2-process-the-image","title":"Step 2: Process the Image","text":"<ol> <li>Click \"Process Image\" button</li> <li>Wait for processing to complete (5-30 seconds)</li> <li>View the cleaned result in Processed Image panel</li> </ol>"},{"location":"user-guide/overview/#step-3-add-annotations-optional","title":"Step 3: Add Annotations (Optional)","text":"<ol> <li>Click \"Add Arrow\" - arrow appears in center</li> <li>Drag to position over feature</li> <li>Shift+drag to rotate to desired angle</li> <li>Alt/Option+drag to resize</li> </ol>"},{"location":"user-guide/overview/#step-4-save-your-result","title":"Step 4: Save Your Result","text":"<ol> <li>Click \"Save Result\" button</li> <li>Choose format (PNG recommended)</li> <li>Select output location</li> </ol>"},{"location":"user-guide/overview/#main-interface","title":"Main Interface","text":"<p>The Lithic Editor interface contains eight main sections:</p>"},{"location":"user-guide/overview/#1-file-controls-top-left","title":"1. File Controls (Top Left)","text":"<ul> <li>Load Image - Select input file</li> <li>Process Image - Start ripple removal</li> <li>Save Result - Export processed image</li> <li>Exit - Close application</li> </ul>"},{"location":"user-guide/overview/#2-drawing-tools-top-left-below-file-controls","title":"2. Drawing Tools (Top Left, Below File Controls)","text":"<ul> <li>Activate Brush - Enable/disable brush editing</li> <li>Color - Choose brush color (White/Black)</li> <li>Size - Adjust brush size (1-10)</li> <li>Clear Brush - Reset brush settings</li> </ul>"},{"location":"user-guide/overview/#3-arrow-annotations-bottom-left","title":"3. Arrow Annotations (Bottom Left)","text":"<ul> <li>Add Arrow - Create new arrow</li> <li>Arrow Color - Change arrow color</li> <li>Delete Arrow - Remove selected arrow</li> <li>Clear Arrows - Remove all arrows</li> </ul>"},{"location":"user-guide/overview/#4-options-and-dpi-settings-top-right","title":"4. Options and DPI Settings (Top Right)","text":"<ul> <li>Debug Images - View and save debug images (checkbox)</li> <li>Preserve Cortex Stippling - Keep cortex texture (checkbox)</li> <li>DPI Settings - Leave unset or set custom DPI</li> </ul>"},{"location":"user-guide/overview/#5-input-image-window-center-left","title":"5. Input Image Window (Center Left)","text":"<ul> <li>Displays original drawing</li> <li>Shows loaded image</li> </ul>"},{"location":"user-guide/overview/#6-processed-image-arrow-annotations-center-right","title":"6. Processed Image / Arrow Annotations (Center Right)","text":"<ul> <li>Shows cleaned result after processing</li> <li>Canvas for arrow annotation overlay</li> </ul>"},{"location":"user-guide/overview/#7-processing-steps-right-panel","title":"7. Processing Steps (Right Panel)","text":"<ul> <li>Debug visualization window</li> <li>Appears when debug images option is enabled</li> </ul>"},{"location":"user-guide/overview/#8-processing-log-bottom","title":"8. Processing Log (Bottom)","text":"<ul> <li>Shows real-time processing information</li> <li>Displays brush settings and status messages</li> </ul>"},{"location":"user-guide/overview/#9-processing-status-bottom","title":"9. Processing Status (Bottom)","text":"<ul> <li>Shows current application state (\"Ready\", processing status)</li> </ul>"},{"location":"user-guide/overview/#core-functions","title":"Core Functions","text":""},{"location":"user-guide/overview/#image-loading","title":"Image Loading","text":"<ul> <li>Support for multiple formats</li> <li>Automatic DPI detection</li> <li>Image validation and error checking</li> </ul>"},{"location":"user-guide/overview/#processing-engine","title":"Processing Engine","text":"<ul> <li>Graph-based line analysis</li> <li>Pattern recognition algorithms</li> <li>Structural preservation logic</li> </ul>"},{"location":"user-guide/overview/#annotation-system","title":"Annotation System","text":"<ul> <li>Vector-based arrows</li> <li>DPI-aware sizing</li> <li>Export-ready graphics</li> </ul>"},{"location":"user-guide/overview/#navigation","title":"Navigation","text":"<p>Use the sidebar to explore specific topics:</p> <ul> <li>Processing Images - Detailed processing guide</li> <li>Adding Annotations - Arrow annotation techniques</li> <li>Saving Results - Export options and formats</li> <li>Keyboard Shortcuts - Productivity tips</li> </ul>"},{"location":"user-guide/overview/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/overview/#for-optimal-results","title":"For Optimal Results","text":"<ol> <li>Image Preparation</li> <li>Use high-resolution scans (300+ DPI)</li> <li>Ensure good contrast</li> <li> <p>Remove unnecessary elements</p> </li> <li> <p>Processing Settings</p> </li> <li>Enable \"View and Save Debug Images\" for complex images</li> <li>Review intermediate steps in Processing Steps panel</li> <li> <p>Set custom DPI if needed (default preserves original)</p> </li> <li> <p>Annotation Guidelines</p> </li> <li>Maintain consistent arrow sizes</li> <li>Use appropriate colors</li> <li>Align with archaeological standards</li> </ol>"},{"location":"user-guide/overview/#common-workflows","title":"Common Workflows","text":""},{"location":"user-guide/overview/#single-image-processing","title":"Single Image Processing","text":"<ol> <li>Load image</li> <li>Process</li> <li>Annotate</li> <li>Save</li> </ol>"},{"location":"user-guide/overview/#batch-processing","title":"Batch Processing","text":"<ol> <li>Prepare image folder</li> <li>Use CLI for batch operations</li> <li>Review results</li> <li>Apply annotations as needed</li> </ol>"},{"location":"user-guide/overview/#research-documentation","title":"Research Documentation","text":"<ol> <li>Process with debug enabled</li> <li>Save all intermediate steps</li> <li>Document parameters used</li> <li>Archive original and processed versions</li> </ol>"},{"location":"user-guide/overview/#understanding-the-algorithm","title":"Understanding the Algorithm","text":"<p>The ripple removal algorithm works through several stages:</p>"},{"location":"user-guide/overview/#stage-1-skeletonization","title":"Stage 1: Skeletonization","text":"<p>Reduces lines to single-pixel width while preserving connectivity.</p>"},{"location":"user-guide/overview/#stage-2-graph-construction","title":"Stage 2: Graph Construction","text":"<p>Builds a network representation of line segments.</p>"},{"location":"user-guide/overview/#stage-3-pattern-analysis","title":"Stage 3: Pattern Analysis","text":"<p>Identifies ripple patterns based on: - Line orientation - Spacing consistency - Length distribution</p>"},{"location":"user-guide/overview/#stage-4-selective-removal","title":"Stage 4: Selective Removal","text":"<p>Removes identified ripple lines while preserving: - Structural boundaries - Tool edges - Important features</p>"},{"location":"user-guide/overview/#stage-5-enhancement","title":"Stage 5: Enhancement","text":"<p>Cleans up the result and restores line quality.</p>"},{"location":"user-guide/overview/#tips-and-tricks","title":"Tips and Tricks","text":"<p>Quick Processing</p> <p>For faster processing of large images, resize to 2000-3000px maximum dimension first.</p> <p>Arrow Visibility</p> <p>Use contrasting colors for arrows - black on light backgrounds, white on dark.</p> <p>Batch Operations</p> <p>Use the CLI for processing multiple images with consistent settings.</p> <p>Quality Control</p> <p>Enable \"View and Save Debug Images\" and review the processing steps to ensure important features aren't removed.</p>"},{"location":"user-guide/overview/#troubleshooting-guide","title":"Troubleshooting Guide","text":""},{"location":"user-guide/overview/#processing-issues","title":"Processing Issues","text":"Problem Solution Structural lines removed Adjust algorithm sensitivity Ripples not fully removed Check image contrast Processing too slow Reduce image size Memory errors Close other applications"},{"location":"user-guide/overview/#annotation-issues","title":"Annotation Issues","text":"Problem Solution Arrows too small Increase DPI setting Can't select arrow Click closer to arrow center Arrows disappear Check arrow color vs background"},{"location":"user-guide/overview/#getting-support","title":"Getting Support","text":"<p>If you need help:</p> <ol> <li>Check Documentation: Review relevant guide sections</li> <li>GitHub Issues: Search existing issues or create new one</li> <li>Community Forum: Ask in GitHub Discussions</li> <li>Direct Contact: Email jg760@cam.ac.uk for research inquiries</li> </ol>"},{"location":"user-guide/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Continue to Processing Images for detailed processing instructions</li> <li>Jump to Annotations to master arrow tools</li> <li>Explore Saving Options for export settings</li> </ul>"},{"location":"user-guide/processing/","title":"Processing Images","text":""},{"location":"user-guide/processing/#overview","title":"Overview","text":"<p>The image processing engine in Lithic Editor uses advanced algorithms to automatically identify and remove ripple lines while preserving the structural elements of lithic drawings.</p>"},{"location":"user-guide/processing/#loading-images","title":"Loading Images","text":""},{"location":"user-guide/processing/#supported-formats","title":"Supported Formats","text":"<ul> <li>PNG (recommended): Lossless compression, transparency support</li> <li>JPEG/JPG: Widely compatible, smaller file sizes</li> <li>TIFF/TIF: Professional quality, uncompressed</li> <li>BMP: Simple format, uncompressed</li> </ul>"},{"location":"user-guide/processing/#image-requirements","title":"Image Requirements","text":"<p>For best results, your images should have: - High contrast (black lines on white background) - Resolution of at least 300 DPI (automatic upscaling available for lower DPI) - Clean, continuous lines - Minimal noise or artifacts</p>"},{"location":"user-guide/processing/#neural-network-upscaling","title":"Neural Network Upscaling","text":"<p>Lithic Editor includes ESPCN and FSRCNN neural network models to automatically upscale low-DPI images: - ESPCN: Efficient Sub-Pixel CNN, faster processing - FSRCNN: Fast Super-Resolution CNN, higher quality - Automatic DPI detection from image metadata - User dialogs for DPI selection when metadata is missing - 300 DPI target for optimal processing results</p> <p>For technical details about these super-resolution models, see OpenCV Super Resolution Tutorial.</p>"},{"location":"user-guide/processing/#cortex-preservation","title":"Cortex Preservation","text":"<p>Automatically preserves natural cortex stippling on lithic artifacts: - Intelligent separation: Distinguishes cortex stippling from structural lines - Pre-processing preservation: Cortex bypasses destructive skeletonization - Archaeological accuracy: Maintains cortex vs. worked surface distinction - User control: Toggle preservation on/off via GUI checkbox or CLI flag</p>"},{"location":"user-guide/processing/#processing-algorithm","title":"Processing Algorithm","text":""},{"location":"user-guide/processing/#how-it-works","title":"How It Works","text":"<p>The ripple removal algorithm follows these steps:</p> <ol> <li>Neural Network Upscaling (if needed)</li> <li>Detect DPI from image metadata or prompt user</li> <li>Upscale low-DPI images using ESPCN/FSRCNN models</li> <li> <p>Maintain aspect ratio and line quality</p> </li> <li> <p>Image Preprocessing &amp; Cortex Separation</p> </li> <li>Convert to grayscale if needed</li> <li>Apply threshold to create binary image</li> <li>Separate cortex stippling from structural lines</li> <li> <p>Preserve cortex areas before skeletonization</p> </li> <li> <p>Skeletonization</p> </li> <li>Reduce lines to single-pixel width</li> <li>Preserve connectivity and topology</li> <li> <p>Create network representation</p> </li> <li> <p>Line Analysis</p> </li> <li>Detect individual line segments</li> <li>Calculate orientation and length</li> <li> <p>Build connectivity graph</p> </li> <li> <p>Ripple Detection</p> </li> <li>Identify parallel line patterns</li> <li>Analyze spacing consistency</li> <li> <p>Classify as ripple or structural</p> </li> <li> <p>Selective Removal</p> </li> <li>Remove identified ripple lines</li> <li>Preserve structural boundaries</li> <li> <p>Maintain artifact integrity</p> </li> <li> <p>Final Assembly</p> </li> <li>Combine cleaned structural lines with preserved cortex</li> <li>Refine endpoint decisions after cleaning</li> <li>Create final archaeologically accurate result</li> </ol>"},{"location":"user-guide/processing/#using-the-gui","title":"Using the GUI","text":""},{"location":"user-guide/processing/#step-by-step-processing","title":"Step-by-Step Processing","text":"<ol> <li> <p>Load Your Image <pre><code>Click \"Load Image\" \u2192 Select file \u2192 Open\n</code></pre></p> </li> <li> <p>DPI Detection and Upscaling</p> </li> <li>System automatically detects DPI from image metadata</li> <li>If missing, dialog prompts for DPI selection (72, 96, 150, 200 or custom)</li> <li> <p>If below 300 DPI, upscaling dialog offers ESPCN/FSRCNN options</p> </li> <li> <p>Review Input</p> </li> <li>Check image quality in Input panel</li> <li>Verify correct orientation</li> <li> <p>Note any problem areas</p> </li> <li> <p>Process Image <pre><code>Click \"Process Image\" \u2192 Wait for completion\n</code></pre></p> </li> <li> <p>Review Results</p> </li> <li>Compare before/after</li> <li>Check debug steps if enabled</li> <li>Verify structural preservation</li> </ol>"},{"location":"user-guide/processing/#processing-options","title":"Processing Options","text":""},{"location":"user-guide/processing/#debug-mode","title":"Debug Mode","text":"<p>Enable to view and save intermediate processing steps: - Checkbox: \"View and Save Debug Images\" - Shows processing steps in the Processing Steps panel - Creates <code>image_debug/</code> folder with all algorithm stages</p>"},{"location":"user-guide/processing/#quality-settings","title":"Quality Settings","text":"<p>Adjust processing parameters: - Line thickness tolerance - Ripple pattern sensitivity - Structural preservation level</p>"},{"location":"user-guide/processing/#command-line-processing","title":"Command Line Processing","text":""},{"location":"user-guide/processing/#basic-usage","title":"Basic Usage","text":"<pre><code># Process single image\nlithic-editor process input.png\n\n# Specify output directory\nlithic-editor process input.png --output results/\n\n# Enable debug mode\nlithic-editor process input.png --debug\n</code></pre>"},{"location":"user-guide/processing/#batch-processing","title":"Batch Processing","text":"<pre><code># Process all PNG files\nfor file in *.png; do\n    lithic-editor process \"$file\" --output processed/\ndone\n\n# Process with parallel jobs\nfind . -name \"*.png\" | parallel lithic-editor process {} --quiet\n</code></pre>"},{"location":"user-guide/processing/#advanced-options","title":"Advanced Options","text":"<pre><code># Neural network upscaling with debug output\nlithic-editor process low_res.png \\\n    --auto-upscale \\\n    --default-dpi 150 \\\n    --upscale-model fsrcnn \\\n    --upscale-threshold 300 \\\n    --debug\n\n# Batch processing with upscaling\nfor file in *.png; do\n    lithic-editor process \"$file\" \\\n        --auto-upscale \\\n        --default-dpi 200 \\\n        --output \"processed/${file%.png}/\"\ndone\n</code></pre>"},{"location":"user-guide/processing/#python-api","title":"Python API","text":""},{"location":"user-guide/processing/#using-the-python-api","title":"Using the Python API","text":"<p>For detailed API documentation and examples, see the API Reference.</p> <pre><code>from lithic_editor.processing import process_lithic_drawing\n\n# Basic example\nresult = process_lithic_drawing(\"drawing.png\", save_debug=True)\n\n# With neural network upscaling\nresult = process_lithic_drawing(\n    \"low_dpi.png\",\n    save_debug=True,\n    upscale_low_dpi=True,\n    default_dpi=150,\n    upscale_model='espcn',\n    target_dpi=300,\n    preserve_cortex=True\n)\n</code></pre> <p>For advanced usage, batch processing, and integration examples, refer to: - Python API Documentation - CLI Reference</p>"},{"location":"user-guide/processing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/processing/#common-issues","title":"Common Issues","text":"Structural lines are removed <p>Causes: - Lines too similar to ripple pattern - Incorrect threshold settings</p> <p>Solutions: - Increase structural preservation setting - Manually edit before processing - Use debug mode to identify issue</p> Ripples not fully removed <p>Causes: - Inconsistent ripple pattern - Poor image quality - Ripples too thick</p> <p>Solutions: - Improve scan quality - Pre-process to enhance contrast - Adjust sensitivity settings</p> Processing takes too long <p>Causes: - Image too large - Insufficient memory - Complex line patterns</p> <p>Solutions: - Resize image to 3000px max - Close other applications - Use batch processing overnight</p>"},{"location":"user-guide/processing/#image-preparation-tips","title":"Image Preparation Tips","text":"<ol> <li>Scanning</li> <li>Use 300+ DPI</li> <li>Black and white mode</li> <li> <p>Clean scanner glass</p> </li> <li> <p>Editing</p> </li> <li>Remove text and scales</li> <li>Fill gaps in lines</li> <li> <p>Increase contrast</p> </li> <li> <p>Format</p> </li> <li>Save as PNG</li> <li>Use lossless compression</li> <li>Preserve metadata</li> </ol>"},{"location":"user-guide/processing/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/processing/#quality-control","title":"Quality Control","text":"<p>Always Review Debug Images</p> <p>Enable debug mode for important images to verify the algorithm isn't removing structural elements.</p>"},{"location":"user-guide/processing/#workflow-optimization","title":"Workflow Optimization","text":"<ol> <li>Test on Sample</li> <li>Process small section first</li> <li>Adjust settings as needed</li> <li> <p>Apply to full image</p> </li> <li> <p>Batch Similar Images</p> </li> <li>Group by drawing style</li> <li>Use consistent settings</li> <li> <p>Review results together</p> </li> <li> <p>Archive Originals</p> </li> <li>Keep unprocessed versions</li> <li>Document processing parameters</li> <li>Note any manual edits</li> </ol>"},{"location":"user-guide/processing/#performance-optimization","title":"Performance Optimization","text":""},{"location":"user-guide/processing/#memory-management","title":"Memory Management","text":"<ul> <li>Process images under 4000\u00d74000 pixels</li> <li>Close unnecessary applications</li> <li>Use 64-bit Python</li> </ul>"},{"location":"user-guide/processing/#speed-improvements","title":"Speed Improvements","text":"<ul> <li>Resize large images first</li> <li>Process in batches overnight</li> <li>Use SSD for temp files</li> </ul>"},{"location":"user-guide/processing/#parallel-processing","title":"Parallel Processing","text":"<pre><code>from multiprocessing import Pool\nfrom lithic_editor.processing import process_lithic_drawing\n\ndef process_file(filename):\n    return process_lithic_drawing(filename)\n\nwith Pool(processes=4) as pool:\n    results = pool.map(process_file, file_list)\n</code></pre>"},{"location":"user-guide/processing/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Adding Annotations</li> <li>Explore Saving Options</li> <li>Read API Reference</li> </ul>"}]}